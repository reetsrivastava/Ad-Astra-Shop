(this["webpackJsonpastra-shop"]=this["webpackJsonpastra-shop"]||[]).push([[0],{53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(24),r=a.n(n),i=a(5),l=a(2),o=a(6),d=a(3),u=a.n(d),j=a(7),b=a(4),h=a(8),p=a.n(h),m=a(0),O=Object(c.createContext)(),f=function(e){var t,a=e.children,s=Object(c.useReducer)((function(e,t){switch(t.type){case"LOGIN":return Object(b.a)({},t.payload);case"SIGNOUT":return{token:"",login:!1,name:"",uid:"",email:""};default:return e}}),JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.getItem("authToken"))||{token:"",login:!1,name:"",uid:"",email:""}),n=Object(l.a)(s,2),r=n[0],i=r.token,o=r.login,d=r.name,h=r.uid,f=r.email,x=n[1];function v(){return(v=Object(j.a)(u.a.mark((function e(t,a){var c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),a&&a(),e.prev=2,e.next=5,p.a.post("https://shopping-hub-2021.herokuapp.com/api/users/signout");case 5:c=e.sent,200===c.status&&(null===(s=localStorage)||void 0===s||s.removeItem("authToken"),x({type:"SIGNOUT"}),t(!1)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t(!1);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){o&&Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("https://astraShop.reetrs.repl.co/api/users/protected",{},{headers:{Authorization:"Bearer ".concat(i)}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),x({type:"SIGNOUT"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}),[o,i]),Object(m.jsx)(O.Provider,{value:{isUserloggedIn:o,token:i,uid:h,name:d,email:f,dispatch:x,signout:function(e,t){return v.apply(this,arguments)}},children:a})},x=function(){return Object(c.useContext)(O)},v="https://astraShop.reetrs.repl.co",y=Object(c.createContext)(),N=function(e){var t=e.children,a=function(){var e=Object(i.h)(),t=x(),a=t.isUserloggedIn,s=t.uid;Object(c.useEffect)((function(){a&&Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(v,"/api/carts/").concat(s));case 3:a=e.sent,d({type:"UPDATE_CART",payload:null===(t=a.data)||void 0===t?void 0:t.cart}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",d({type:"UPDATE_CART",payload:[]}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[s,a]);var n=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_CART":return t.payload;default:return e}}),[]),r=Object(l.a)(n,2),o=r[0],d=r[1],b=function(){var t=Object(j.a)(u.a.mark((function t(c,n,r){var i,l;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",e("/login"));case 2:if(!o.find((function(e){return e.product._id===c._id}))){t.next=4;break}return t.abrupt("return",e("/cart"));case 4:return n(!0),t.prev=5,t.next=8,p.a.post("".concat(v,"/api/carts/").concat(s),{productID:c._id,quantity:1});case 8:i=t.sent,l=i.data,200===i.status&&(d({type:"UPDATE_CART",payload:l.cart.products}),n(!1)),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(5),n(!1),r(!0),setTimeout((function(){r(!1)}),2e3);case 19:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(e,a,c){return t.apply(this,arguments)}}(),h=function(){var e=Object(j.a)(u.a.mark((function e(t,a){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.delete("".concat(v,"/api/carts/").concat(s,"/").concat(t));case 3:c=e.sent,n=c.data,200===c.status&&d({type:"UPDATE_CART",payload:n.cart.products}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a(!0),setTimeout((function(){a(!1)}),2e3);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(u.a.mark((function e(t,a){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("".concat(v,"/api/carts/").concat(s,"/").concat(t,"/increasequantity"));case 3:c=e.sent,n=c.data,200===c.status&&d({type:"UPDATE_CART",payload:n.cart.products}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a(!0),setTimeout((function(){a(!1)}),2e3);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(j.a)(u.a.mark((function e(t,a){var c,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("".concat(v,"/api/carts/").concat(s,"/").concat(t,"/decreasequantity"));case 3:c=e.sent,n=c.data,200===c.status&&d({type:"UPDATE_CART",payload:n.cart.products}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a(!0),setTimeout((function(){a(!1)}),2e3);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}();return{cart:o,emptyCart:function(){var e=Object(j.a)(u.a.mark((function e(t){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.delete("".concat(v,"/api/carts/").concat(s));case 3:a=e.sent,c=a.data,200===a.status&&d({type:"UPDATE_CART",payload:c.cart.products}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t(!0),setTimeout((function(){t(!1)}),2e3);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),addToCart:b,increaseQuantityOfProduct:m,decreaseQuantityOfProduct:O,removeFromCart:h}}(),s=a.cart,n=a.removeFromCart,r=a.addToCart,o=a.increaseQuantityOfProduct,d=a.decreaseQuantityOfProduct,b=a.emptyCart,h=s.reduce((function(e,t){var a;return parseInt(e)+parseInt((null===t||void 0===t||null===(a=t.product)||void 0===a?void 0:a.price)*(null===t||void 0===t?void 0:t.quantity))}),0),O=s.reduce((function(e,t){return parseInt(e)+parseInt(null===t||void 0===t?void 0:t.quantity)}),0);return Object(m.jsx)(y.Provider,{value:{cart:s,removeFromCart:n,increaseQuantityOfProduct:o,decreaseQuantityOfProduct:d,totalCartValue:h,totalCartItem:O,addToCart:r,emptyCart:b},children:t})},g=function(){return Object(c.useContext)(y)},_=Object(c.createContext)(),w=function(e){var t=e.children,a=function(){var e=Object(i.h)(),t=x(),a=t.isUserloggedIn,s=t.uid;Object(c.useEffect)((function(){a&&Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(v,"/api/wishlists/").concat(s));case 3:a=e.sent,d({type:"UPDATE_WISHLIST",payload:null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.wishlist}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",d({type:"UPDATE_WISHLIST",payload:[]}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[s,a]);var n=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_WISHLIST":return t.payload;default:return e}}),[]),r=Object(l.a)(n,2),o=r[0],d=r[1],b=function(){var t=Object(j.a)(u.a.mark((function t(c,n,r){var i,l,j,b;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",e("/login"));case 2:if(n(!0),t.prev=3,!o.find((function(e){return e._id===c._id}))){t.next=13;break}return t.next=7,p.a.delete("".concat(v,"/api/wishlists/").concat(s,"/").concat(c._id));case 7:if(i=t.sent,l=i.data,200!==i.status){t.next=13;break}return n(!1),t.abrupt("return",d({type:"UPDATE_WISHLIST",payload:l.wishlist.products}));case 13:return t.next=15,p.a.post("".concat(v,"/api/wishlists/").concat(s),{productID:c._id});case 15:if(j=t.sent,b=j.data,200!==j.status){t.next=21;break}return n(!1),t.abrupt("return",d({type:"UPDATE_WISHLIST",payload:b.wishlist.products}));case 21:t.next=28;break;case 23:t.prev=23,t.t0=t.catch(3),n(!1),r(!0),setTimeout((function(){r(!1)}),2e3);case 28:case"end":return t.stop()}}),t,null,[[3,23]])})));return function(e,a,c){return t.apply(this,arguments)}}();return{wishlist:o,dispatch:d,handleWishlist:b}}(),s=a.wishlist,n=a.dispatch,r=a.handleWishlist;return Object(m.jsx)(_.Provider,{value:{wishlist:s,dispatchWishlist:n,handleWishlist:r},children:t})},k=function(){return Object(c.useContext)(_)},C=function(e){var t=e.show,a=e.children,c=e.onClick;return t?Object(m.jsx)("div",{className:"backdrop",onClick:c,children:a}):""},S=function(e){return e.show?Object(m.jsx)("div",{className:"spinner__container",children:Object(m.jsx)("div",{className:"spinner"})}):""},A=function(e){var t=e.className,a=e.setShowSidebar,s=x(),n=s.isUserloggedIn,r=s.signout,i=function(){return a(!1)},d=Object(c.useState)(!1),u=Object(l.a)(d,2),j=u[0],b=u[1],h=Object(c.useState)(!1),p=Object(l.a)(h,2),O=p[0],f=p[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)(S,{show:j}),Object(m.jsx)(C,{show:O,onClick:function(){return f(!1)}}),Object(m.jsxs)("div",{className:"sidebar ".concat(t),children:[Object(m.jsx)("i",{className:"fas fa-window-close closeBtn",onClick:i}),Object(m.jsx)("section",{className:"sidebar__header",children:Object(m.jsx)("h3",{children:"AstraShop"})}),Object(m.jsxs)("section",{className:"profile__pic",children:[Object(m.jsx)(o.b,{to:"/myaccount",onClick:i,className:"avatar-link",children:Object(m.jsx)("span",{className:"avatar",children:"Profile"})}),n?Object(m.jsx)("p",{style:{margin:"0.5rem 0"}}):Object(m.jsx)("p",{style:{margin:"0.5rem 0"},children:"Login/Signup"})]}),Object(m.jsxs)("section",{className:"sidebar__links__section",children:[Object(m.jsxs)(o.b,{className:"sidebar__link",to:"/",onClick:i,children:[Object(m.jsx)("i",{className:"fa fa-home"}),"\xa0\xa0Home"]}),n&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(o.b,{className:"sidebar__link",to:"/address",onClick:i,children:[Object(m.jsx)("i",{className:"fas fa-address-card"}),"\xa0\xa0Your Address"]}),Object(m.jsxs)("div",{className:"sidebar__link",onClick:function(){return r(b,i)},children:[Object(m.jsx)("i",{className:"fa fa-sign-out"}),"\xa0\xa0signout"]})," "]})]})]})]})},T=function(){var e=g().totalCartItem,t=k().wishlist,a=Object(i.h)(),s=x(),n=s.userDetails,r=s.isUserloggedIn,d=Object(c.useState)(!1),u=Object(l.a)(d,2),j=u[0],b=u[1];return Object(m.jsxs)("nav",{className:"nav",children:[Object(m.jsx)(C,{show:j,onClick:function(){return b(!1)}}),Object(m.jsx)(A,{className:j?"show__sidebar":"",setShowSidebar:b}),Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)("i",{style:{fontSize:"1.2rem"},className:"fa fa-bars",onClick:function(){return b(!0)}})}),Object(m.jsx)("li",{style:{flexGrow:1},children:Object(m.jsx)(o.c,{to:"/",className:"nav-link site__name",children:"Ad AstraShop"})}),n&&r&&Object(m.jsx)("li",{className:"profile__avatar__container",onClick:function(){return a("/myaccount")},children:Object(m.jsxs)("div",{className:"profile__avatar",children:[Object(m.jsx)("i",{class:"fas fa-sign-in-alt"}),Object(m.jsxs)("h4",{children:[n.name,"!"]})]})}),r&&Object(m.jsx)("li",{children:Object(m.jsxs)(o.c,{to:"/wishlist",className:"nav-link",children:[Object(m.jsx)("i",{className:"fa fa-heart"}),Object(m.jsxs)("span",{className:"icon-name",children:["Wishlist(",t.length,")"]})]})}),r&&Object(m.jsx)("li",{children:Object(m.jsxs)(o.c,{to:"/cart",className:"nav-link",children:[Object(m.jsx)("i",{className:"fa fa-shopping-cart"}),Object(m.jsxs)("span",{className:"icon-name",children:["Cart(",e,")"]})]})}),!r&&Object(m.jsx)("li",{className:"loginBtn",children:Object(m.jsxs)(o.c,{to:"/login",className:"nav-link",children:[Object(m.jsx)("i",{className:"fa fa-user"}),Object(m.jsx)("span",{className:"icon-name",children:"Login/Signup"})]})})]})]})},I=a(26),E=["path"],D=function(e){var t=e.path,a=Object(I.a)(e,E);return x().isUserloggedIn?Object(m.jsx)(i.b,Object(b.a)({path:t},a)):Object(m.jsx)(i.a,{state:{from:t},to:"/login",replace:!0})},P=a(10),R=function(){Object(c.useEffect)((function(){window.scroll({behavior:"smooth",top:0})}),[]);var e=Object(c.useState)({email:"",password:""}),t=Object(l.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)({email:"",password:""}),r=Object(l.a)(n,2),d=r[0],h=r[1],O=Object(c.useState)(!1),f=Object(l.a)(O,2),y=f[0],N=f[1],g=Object(c.useState)(!1),_=Object(l.a)(g,2),w=_[0],k=_[1],C=Object(i.h)(),A=Object(i.g)().state,T=x().dispatch,I=function(e){var t=e.target,a=t.value,c=t.name;s((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(P.a)({},c,a))}))},E=function(e){var t,a;if(/^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/.test(e.email)||(t="Please enter a valid email address"),/^(?=.*\d)(?=.*[a-z])(?=.*[a-zA-Z]).{8,}$/.test(e.password)||(a="minimum length of password will be 8, at least 1 lowercase letter and 1 number"),h({email:t,password:a}),!t&&!a)return!0};function D(e){return R.apply(this,arguments)}function R(){return(R=Object(j.a)(u.a.mark((function e(t){var a,c,s,n,r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("".concat(v,"/api/users/login"),t);case 3:a=e.sent,c=a.status,s=a.data,200===c&&(localStorage.setItem("authToken",JSON.stringify(Object(b.a)({},s))),T({type:"LOGIN",payload:s}),C(null===A?"/":A.from)),N(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),N(!1),n=e.t0.response,r=n.status,i=n.data,401===r?h((function(e){return Object(b.a)(Object(b.a)({},e),{},{password:i.message})})):404===r&&h((function(e){return Object(b.a)(Object(b.a)({},e),{},{email:i.message})}));case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var F=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),E(a)&&(N(!0),D(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)(S,{show:y}),Object(m.jsxs)("div",{className:"login__container",children:[Object(m.jsxs)("form",{onSubmit:F,children:[Object(m.jsx)("h1",{className:"form__heading",children:"LOGIN"}),Object(m.jsxs)("div",{className:"form__group",children:[Object(m.jsx)("label",{className:"form__label",htmlFor:"email",children:"Email : "}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{className:"form__control",value:a.email,onChange:I,type:"email",name:"email"}),Object(m.jsx)("span",{className:"invalid-feedback",children:d.email})]})]}),Object(m.jsxs)("div",{className:"form__group",children:[Object(m.jsx)("label",{className:"form__label",htmlFor:"password",children:"Password : "}),Object(m.jsxs)("div",{className:"form__input__container",children:[Object(m.jsx)("div",{onClick:function(){return k((function(e){return!e}))},children:w?Object(m.jsx)("i",{className:"fa fa-eye"}):Object(m.jsx)("i",{className:"fa fa-eye-slash"})}),Object(m.jsx)("input",{className:"form__control",value:a.password,onChange:I,type:w?"text":"password",name:"password"}),Object(m.jsx)("span",{className:"invalid-feedback",children:d.password})]})]}),Object(m.jsx)("input",{type:"submit",className:"primary-btn",value:"LOGIN"})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("small",{children:["Don't have an account? ",Object(m.jsx)(o.b,{to:"/signup",className:"signup__link",children:Object(m.jsx)("u",{children:"SIGN UP"})})]}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:"separator",children:[Object(m.jsx)("div",{className:"separator__line"}),Object(m.jsx)("div",{className:"separator__text",children:"OR"}),Object(m.jsx)("div",{className:"separator__line"})]}),Object(m.jsx)("button",{onClick:function(){N(!0),D({email:"asmitshrivastava8@gmail.com",password:"asmit123"})},style:{display:"block",width:"100%"},className:"primary-btn",children:"Login as guest"})]})]})]})},F=function(e){var t=e.show,a=e.message,c=e.color,s=e.background,n=e.className,r=e.error,i=e.onClick;return Object(m.jsx)(C,{show:t,onClick:i,children:Object(m.jsxs)("div",{style:{color:c,background:s},className:"toast toast__content ".concat(n),children:[r?Object(m.jsx)("i",{className:"fas fa-window-close"}):Object(m.jsx)("i",{className:"fas fa-badge-check"}),"\xa0",a]})})},L=function(){Object(c.useEffect)((function(){window.scroll({behavior:"smooth",top:0})}),[]);var e=Object(c.useState)({email:"",password:"",name:""}),t=Object(l.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)({email:"",password:"",name:""}),r=Object(l.a)(n,2),i=r[0],d=r[1],h=Object(c.useState)(!1),O=Object(l.a)(h,2),f=O[0],x=O[1],y=Object(c.useState)(!1),N=Object(l.a)(y,2),g=N[0],_=N[1],w=Object(c.useState)(!1),k=Object(l.a)(w,2),C=k[0],A=k[1],T=function(e){var t=e.target,a=t.value,c=t.name;s((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(P.a)({},c,a))}))},I=function(e){var t,a,c;if(""===e.name&&(t="Please fill this field"),/^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/.test(e.email)||(a="Please enter a valid email address"),/^(?=.*\d)(?=.*[a-z])(?=.*[a-zA-Z]).{8,}$/.test(e.password)||(c="minimum length of password will be 8, at least 1 lowercase letter and 1 number"),d({name:t,email:a,password:c}),!t&&!a&&!c)return!0},E=function(){var e=Object(j.a)(u.a.mark((function e(t){var c,n,r,i,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!I(a)){e.next=18;break}return x(!0),e.prev=3,e.next=6,p.a.post("".concat(v,"/api/users/signup"),a);case 6:c=e.sent,n=c.data,200===c.status&&(_(n.message),setTimeout((function(){_("")}),2e3),s({name:"",email:"",password:""})),x(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),x(!1),r=e.t0.response,i=r.status,l=r.data,409===i&&d((function(e){return Object(b.a)(Object(b.a)({},e),{},{email:l.message})}));case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)(S,{show:f}),Object(m.jsx)(F,{show:g,message:g,className:"toast__content",background:"var(--secondary)",color:"var(--primary)"}),Object(m.jsxs)("div",{className:"login__container",children:[Object(m.jsxs)("form",{onSubmit:E,children:[Object(m.jsx)("h1",{className:"form__heading",children:"SIGN UP"}),Object(m.jsxs)("div",{className:"form__group",children:[Object(m.jsx)("label",{className:"form__label",htmlFor:"name",children:"Name : "}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{className:"form__control",value:a.name,onChange:T,type:"text",name:"name"}),Object(m.jsx)("span",{className:"invalid-feedback",children:i.name})]})]}),Object(m.jsxs)("div",{className:"form__group",children:[Object(m.jsx)("label",{className:"form__label",htmlFor:"email",children:"Email : "}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{className:"form__control",value:a.email,onChange:T,type:"email",name:"email"}),Object(m.jsx)("span",{className:"invalid-feedback",children:i.email})]})]}),Object(m.jsxs)("div",{className:"form__group",children:[Object(m.jsx)("label",{className:"form__label",htmlFor:"password",children:"Password : "}),Object(m.jsxs)("div",{className:"form__input__container",children:[Object(m.jsx)("div",{onClick:function(){return A((function(e){return!e}))},children:C?Object(m.jsx)("i",{className:"fa fa-eye"}):Object(m.jsx)("i",{className:"fa fa-eye-slash"})}),Object(m.jsx)("input",{className:"form__control",value:a.password,onChange:T,type:C?"text":"password",name:"password"}),Object(m.jsx)("span",{className:"invalid-feedback",children:i.password})]})]}),Object(m.jsx)("input",{type:"submit",className:"secondary-btn",value:"SIGNUP"})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("small",{children:["Already have an account? ",Object(m.jsx)(o.b,{to:"/login",className:"signup__link",children:"LOGIN"})]})]})]})},U=function(e,t){var a=!0;return function(){var c=this;a&&(a=!1,e.apply(c,Array.prototype.slice.call(arguments)),setTimeout((function(){a=!0}),t))}},H=function(){var e=k().handleWishlist,t=g(),a=t.decreaseQuantityOfProduct,c=t.increaseQuantityOfProduct,s=t.addToCart,n=t.removeFromCart;return{throttleHandleWishlist:U(e,1500),throttleDecreaseQuantity:U(a,1500),throttleIncreaseQuantity:U(c,1500),throttleAddToCart:U(s,1500),throttleRemoveFromCart:U(n,1500)}},W=function(){Object(c.useEffect)((function(){window.scroll({behavior:"smooth",top:0})}),[]);var e=Object(i.h)(),t=k().wishlist,a=Object(c.useState)(!1),s=Object(l.a)(a,2),n=s[0],r=s[1],d=g(),u=d.cart,j=d.totalCartValue,b=d.totalCartItem,h=H(),p=h.throttleDecreaseQuantity,O=h.throttleRemoveFromCart,f=h.throttleIncreaseQuantity,x=h.throttleHandleWishlist;return Object(m.jsxs)("div",{className:"cart-container",children:[Object(m.jsx)(F,{show:n,onClick:function(){return r(!1)},message:"Something went wrong with server",error:!0,background:"red",color:"white"}),Object(m.jsxs)("h1",{children:["My Cart ( ",b," )"]}),u.length>0?u.map((function(e){return Object(m.jsxs)("div",{className:"card-horizontal",children:[Object(m.jsx)(o.b,{to:"/products/".concat(e.product._id),children:Object(m.jsx)("img",{alt:"product",className:"card-img",src:e.product.image+"?random=".concat(Math.round(1e3*Math.random()))})}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h4",{className:"card-title",children:e.product.name}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("small",{children:["Price : \u20b9",e.product.price]}),"\xa0",Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{disabled:e.quantity<=1,onClick:function(){return p(e.product._id,r)},children:"-"}),"\xa0",e.quantity,"\xa0",Object(m.jsx)("button",{onClick:function(){return f(e.product._id,r)},children:"+"})]}),Object(m.jsxs)("div",{className:"card-footer",children:[Object(m.jsx)("div",{className:"wishlist-icon",children:Object(m.jsx)("i",{onClick:function(){return x(e.product,(function(){}),r)},style:{color:t.find((function(t){return t._id===e.product._id}))?"var(--danger-color)":"var(--tertiary)"},className:"fa fa-heart fa-border","aria-hidden":"true"})}),Object(m.jsx)("button",{onClick:function(){return O(e.product._id,r)},className:"secondary-btn",style:{padding:"0.2rem 0.5rem",borderRadius:"2px"},children:"REMOVE"})]})]})]},e.product._id)})):Object(m.jsx)("p",{style:{textAlign:"center"},children:"Your cart is empty"}),u.length>0&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("h2",{children:["Total Price: \u20b9",j]}),Object(m.jsx)("button",{className:"primary-btn",onClick:function(){return e("/address",{state:{from:"cart"}})},children:"Proceed to checkout"})]})]})},G=a(25),M=Object(c.createContext)(),B=function(e){var t=e.children;Object(c.useEffect)((function(){Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://astraShop.reetrs.repl.co/api/products");case 2:t=e.sent,a=t.data,r(a.products);case 5:case"end":return e.stop()}}),e)})))()}),[]);var a=Object(c.useState)([]),s=Object(l.a)(a,2),n=s[0],r=s[1],i=function(){var e=Object(c.useReducer)((function(e,t){switch(t.type){case"SORT":return Object(b.a)(Object(b.a)({},e),{},{sortBy:t.payload});case"INCLUDE_OUT_STOCK":return Object(b.a)(Object(b.a)({},e),{},{includeOutOfStock:!e.includeOutOfStock});case"FAST_DELIVERY":return Object(b.a)(Object(b.a)({},e),{},{fastDelivery:!e.fastDelivery});case"SORT_BY_PRICE_RANGE":return Object(b.a)(Object(b.a)({},e),{},{priceRange:t.payload});case"CLEAR_ALL_FILTER":return Object(b.a)(Object(b.a)({},e),{},{includeOutOfStock:!0,fastDelivery:!1,priceRange:null});default:return e}}),{sortBy:null,includeOutOfStock:!0,fastDelivery:!1,priceRange:null}),t=Object(l.a)(e,2);return{state:t[0],dispatch:t[1]}}(),o=i.state,d=i.dispatch,h=o.sortBy,O=o.includeOutOfStock,f=o.fastDelivery,x=o.priceRange,v=function(e){return e.filter((function(e){return!!O||e.stock})).filter((function(e){return!f||e.fastDelivery})).filter((function(e){return null===x||parseInt(e.price)<=parseInt(x)}))}(function(e){return"LOW_TO_HIGH"===h?e.sort((function(e,t){return e.price-t.price})):"HIGH_TO_LOW"===h?e.sort((function(e,t){return t.price-e.price})):e.sort((function(e){return e.stock?-1:1}))}(Object(G.a)(n)));return Object(m.jsx)(M.Provider,{value:{totalProducts:n.length,priceRange:x,includeOutOfStock:O,products:v,sortBy:h,dispatchProduct:d,fastDelivery:f},children:t})},Q=function(){return Object(c.useContext)(M)},z=function(e){var t=e.show,a=e.className;return t?Object(m.jsx)("div",{className:"btn__spinner ".concat(a)}):""},q=function(e){var t=e.item,a=g().cart,s=k().wishlist,n=Object(c.useState)(!1),r=Object(l.a)(n,2),i=r[0],d=r[1],u=Object(c.useState)(!1),j=Object(l.a)(u,2),b=j[0],h=j[1],p=Object(c.useState)(!1),O=Object(l.a)(p,2),f=O[0],x=O[1],v=H(),y=v.throttleAddToCart,N=v.throttleHandleWishlist;return Object(m.jsxs)("div",{className:t.stock?"card":"card out-of-stock",children:[Object(m.jsx)(F,{show:f,onClick:function(){return x(!1)},message:"Something went wrong with server",error:!0,background:"red",color:"white"}),Object(m.jsxs)("div",{className:"wishlist-icon",children:[!b&&Object(m.jsx)("button",{className:"wishlist-button",onClick:function(){return N(t,h,x)},children:Object(m.jsx)("i",{style:{color:s.find((function(e){return(null===e||void 0===e?void 0:e._id)===(null===t||void 0===t?void 0:t._id)}))?"var(--danger-color)":"var(--tertiary)",margin:"0.25rem"},className:"fa fa-heart","aria-hidden":"true"})}),Object(m.jsx)(z,{show:b})]}),Object(m.jsx)(o.b,{to:"/products/".concat(t._id),children:Object(m.jsx)("img",{alt:"product",className:"card-img",src:t.image+"?random=".concat(Math.round(1e3*Math.random()))})}),Object(m.jsxs)("div",{className:"card-content",children:[Object(m.jsx)("h4",{children:t.name}),t.fastDelivery&&Object(m.jsxs)("small",{className:"card-content-details",children:[Object(m.jsx)("i",{className:"fas fa-shipping-fast"})," Fast Delivery"]}),Object(m.jsxs)("small",{className:"price",children:["\u20b9 ",t.price]})]}),Object(m.jsxs)("button",{onClick:function(){return y(t,d,x)},className:"primary-btn",children:[!i&&(t.stock?a.find((function(e){return(null===e||void 0===e?void 0:e.product._id)===(null===t||void 0===t?void 0:t._id)}))?"GO TO CART":"ADD TO CART":"OUT OF STOCK"),Object(m.jsx)(z,{show:i})]})]},t._id)},Y=function(){var e=Q(),t=e.totalProducts,a=e.products;return t?Object(m.jsx)("div",{style:{display:a.length>0?"grid":"block"},className:"products slide__products",children:a.length>0?a.map((function(e){return Object(m.jsx)(q,{item:e},e._id)})):Object(m.jsx)("p",{style:{textAlign:"center"},children:"No results found"})}):Object(m.jsx)("div",{style:{display:a.length>0?"grid":"block"},className:"products",children:Object(m.jsx)(z,{show:!0,className:"loading__products"})})},Z=function(){var e=Q(),t=e.dispatchProduct,a=e.includeOutOfStock,c=e.fastDelivery;return Object(m.jsxs)("div",{className:"filter-content",children:[Object(m.jsxs)("label",{className:"filter-content-label",children:[Object(m.jsx)("input",{type:"checkbox",checked:a,onChange:function(){return t({type:"INCLUDE_OUT_STOCK"})}}),"Include Out Of Stock\xa0\xa0"]}),Object(m.jsxs)("label",{className:"filter-content-label",children:[Object(m.jsx)("input",{type:"checkbox",checked:c,onChange:function(){return t({type:"FAST_DELIVERY"})}}),"\xa0",Object(m.jsx)("i",{className:"fas fa-shipping-fast"})," Fast Delivery\xa0"]}),Object(m.jsx)("button",{onClick:function(){return t({type:"CLEAR_ALL_FILTER"})},style:{background:"none",border:"1px solid rgba(0, 0, 0, 0.12)",cursor:"pointer"},children:"Clear all"})]})},V=function(){Object(c.useEffect)((function(){var e=!0;return e&&window.scroll({behavior:"smooth",top:0}),function(){e=!1}}),[]);var e=Q(),t=e.dispatchProduct,a=e.sortBy,s=Object(c.useState)(!1),n=Object(l.a)(s,2),r=n[0],i=n[1];return Object(m.jsxs)("div",{className:"products-container",children:[Object(m.jsxs)("div",{className:"sorting-container",children:[Object(m.jsxs)("div",{className:"dropdownBtn-container",children:[Object(m.jsxs)("small",{children:[Object(m.jsx)("i",{className:"fas fa-sort-amount-up-alt"})," Sort by :"]}),Object(m.jsxs)("select",{className:"dropdownBtn",value:null===a?"DEFAULT":a,onChange:function(e){t({type:"SORT",payload:e.target.value})},children:[Object(m.jsx)("option",{value:"DEFAULT",children:"Relevance"}),Object(m.jsx)("option",{value:"HIGH_TO_LOW",children:"High to low"}),Object(m.jsx)("option",{value:"LOW_TO_HIGH",children:"Low to high"})]})]}),Object(m.jsx)("div",{className:"filter-btn-container",children:Object(m.jsxs)("button",{className:"filter-button",onClick:function(){return i(!r)},children:[Object(m.jsx)("i",{className:"fa fa-filter"})," Filter"]})})]}),r&&Object(m.jsx)(Z,{}),Object(m.jsx)(Y,{})]})},$=function(){Object(c.useEffect)((function(){window.scroll({behavior:"smooth",top:0})}),[]);var e=k().wishlist,t=g().cart,a=Object(c.useState)(!1),s=Object(l.a)(a,2),n=s[0],r=s[1],i=H(),d=i.throttleAddToCart,u=i.throttleHandleWishlist;return Object(m.jsxs)("div",{className:"wishlist-container",children:[Object(m.jsx)(F,{show:n,onClick:function(){return r(!1)},message:"Something went wrong with server",error:!0,background:"red",color:"white"}),Object(m.jsxs)("h1",{style:{textAlign:"center",marginTop:"1rem"},children:["Wishlist (",e.length,")"]}),Object(m.jsx)("div",{style:{display:e.length>0?"grid":"block"},className:"products",children:e.length>0?e.map((function(e){return Object(m.jsxs)("div",{className:e.stock?"card":"card out-of-stock",children:[Object(m.jsx)("div",{className:"remove-icon",children:Object(m.jsx)("i",{onClick:function(){return u(e,(function(){}),r)},style:{color:"rgb(223, 71, 89)"},className:"fa fa-trash","aria-hidden":"true"})}),Object(m.jsx)(o.b,{to:"/products/".concat(e._id),children:Object(m.jsx)("img",{alt:"product",className:"card-img",src:e.image+"?random=".concat(Math.round(1e3*Math.random()))})}),Object(m.jsxs)("div",{className:"card-content",children:[Object(m.jsx)("h4",{children:e.name}),Object(m.jsxs)("small",{className:"card-content-details",children:["Price:",e.price]}),e.fastDelivery&&Object(m.jsxs)("small",{className:"card-content-details",children:[Object(m.jsx)("i",{className:"fas fa-shipping-fast"})," Fast Delivery"]})]}),Object(m.jsx)("button",{onClick:function(){d(e,(function(){}),r),u(e,(function(){}),r)},disabled:!e.stock||t.find((function(t){return t.product._id===e._id})),className:"primary-btn",children:e.stock?t.find((function(t){return t.product._id===e._id}))?"Already in cart":"Move to cart":"Out of Stock"})]},e._id)})):Object(m.jsx)("p",{style:{textAlign:"center"},children:"nothing in wishlist"})})]})},J=Object(c.createContext)(),K=function(e){var t=e.children,a=function(){var e=x(),t=e.uid,a=e.isUserloggedIn,s=Object(i.h)();Object(c.useEffect)((function(){a&&Object(j.a)(u.a.mark((function e(){var a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(v,"/api/addresses/").concat(t));case 3:s=e.sent,m({type:"INITIAL_STATE",payload:{address:null===s||void 0===s||null===(a=s.data)||void 0===a?void 0:a.addresses,selectedAddress:null===s||void 0===s||null===(c=s.data)||void 0===c?void 0:c.selectedAddress}}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",m({type:"INITIAL_STATE",payload:{address:[],selectedAddress:""}}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[t,a]);var n=Object(c.useReducer)((function(e,t){switch(t.type){case"INITIAL_STATE":return t.payload;case"UPDATE_ADDRESSES":return Object(b.a)(Object(b.a)({},e),{},{address:t.payload});case"SELECTED_ADDRESS":return Object(b.a)(Object(b.a)({},e),{},{selectedAddress:t.payload});default:return e}}),{address:[],selectedAddress:""}),r=Object(l.a)(n,2),o=r[0],d=o.address,h=o.selectedAddress,m=r[1],O=function(){var e=Object(j.a)(u.a.mark((function e(a,c,n){var r,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,p.a.post("".concat(v,"/api/addresses/").concat(t),a);case 4:r=e.sent,i=r.data,200===r.status&&(m({type:"UPDATE_ADDRESSES",payload:i.addresses.addresses}),c(!1),s("/address",{state:{from:n}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c(!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a,c){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(u.a.mark((function e(a,c){var s,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,p.a.delete("".concat(v,"/api/addresses/").concat(t,"/").concat(a));case 4:s=e.sent,n=s.data,200===s.status&&(m({type:"UPDATE_ADDRESSES",payload:n.addresses.addresses}),c(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),c(!1),alert("something went wrong with server");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(j.a)(u.a.mark((function e(a,c){var s,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,p.a.post("".concat(v,"/api/addresses/").concat(t,"/").concat(a._id),a);case 4:s=e.sent,n=s.data,200===s.status&&(m({type:"UPDATE_ADDRESSES",payload:n.addresses.addresses}),c(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),c(!1),alert("something went wrong with server");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(u.a.mark((function e(a,c){var s,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,p.a.post("".concat(v,"/api/addresses/").concat(t,"/").concat(a,"/setaddress"));case 4:s=e.sent,n=s.data,r=s.status,console.log(n.selectedAddress),200===r&&(m({type:"SELECTED_ADDRESS",payload:n.selectedAddress}),c(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),c(!1),alert("something went wrong with server");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}();return{address:d,dispatch:m,selectedAddress:h,setSelectedAddress:N,addAddress:O,removeAddress:f,editAddress:y}}(),s=a.address,n=a.setSelectedAddress,r=a.selectedAddress,o=a.addAddress,d=a.removeAddress,h=a.editAddress,O=a.dispatch;return Object(m.jsx)(J.Provider,{value:{address:s,addAddress:o,removeAddress:d,editAddress:h,setSelectedAddress:n,selectedAddress:r,dispatchAddress:O},children:t})},X=function(){return Object(c.useContext)(J)},ee=function(e){var t=X().editAddress,a=Object(c.useState)({_id:e._id,addressID:e.addressID,name:e.name,type:e.type,number:e.number,address:e.address,locality:e.locality,city:e.city,state:e.state,pincode:e.pincode}),s=Object(l.a)(a,2),n=s[0],r=s[1],i=Object(c.useState)({name:"",type:"",number:"",address:"",locality:"",city:"",state:"",pincode:""}),o=Object(l.a)(i,2),d=o[0],u=o[1],j=n.name,h=n.type,p=n.number,O=n.address,f=n.locality,x=n.city,v=n.state,y=n.pincode,N=function(e){var t=e.target,a=t.value,c=t.name;r((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(P.a)({},c,a))}))};return Object(m.jsxs)("div",{className:"editAddress",children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"name",children:"Name :"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",name:"name",className:"form-control",placeholder:"Enter your name..",value:j,onChange:N}),Object(m.jsx)("span",{className:"invalid-feedback",children:d.name})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"number",children:"Mobile Number :"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"number",name:"number",className:"form-control",placeholder:"mobile number..",value:p,onChange:N}),Object(m.jsx)("span",{className:"invalid-feedback",children:d.number})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"pincode",children:"Pincode :"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"number",name:"pincode",className:"form-control",placeholder:"pincode..",value:y,onChange:N}),Object(m.jsx)("span",{className:"invalid-feedback",children:d.pincode})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"locality",children:"Locality :"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",name:"locality",className:"form-control",placeholder:"locality..",value:f,onChange:N}),Object(m.jsx)("span",{className:"invalid-feedback",children:d.locality})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"address",children:"Address :"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("textarea",{name:"address",className:"form-control",placeholder:"Enter address",value:O,onChange:N}),Object(m.jsx)("span",{className:"invalid-feedback",children:d.address})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"city",children:"City :"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",name:"city",className:"form-control",placeholder:"City/District/Town",value:x,onChange:N}),Object(m.jsx)("span",{className:"invalid-feedback",children:d.city})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"state",children:"State :"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",name:"state",className:"form-control",placeholder:"State...",value:v,onChange:N}),Object(m.jsx)("span",{className:"invalid-feedback",children:d.state})]})]}),Object(m.jsx)("label",{htmlFor:"type",children:Object(m.jsx)("strong",{children:"Address type :"})}),Object(m.jsx)("input",{type:"radio",checked:"Home"===h,value:"Home",name:"type",onChange:N}),"Home",Object(m.jsx)("input",{type:"radio",checked:"Office"===h,value:"Office",name:"type",onChange:N}),"Office",Object(m.jsx)("br",{}),Object(m.jsx)("span",{className:"invalid-feedback",children:d.type}),Object(m.jsx)("br",{}),Object(m.jsxs)("button",{onClick:function(){(function(e){var t,a,c,s,n,r,i,l;if(""===e.name&&(t="please fill this field"),""===e.type&&(a="please fill this field"),/^[6789]\d{9}$/.test(e.number)||(c="Invalid number"),""===e.address&&(s="please fill this field"),""===e.locality&&(n="please fill this field"),""===e.city&&(r="please fill this field"),""===e.state&&(i="please fill this field"),""===e.pincode&&(l="please fill this field"),u({name:t,type:a,number:c,address:s,locality:n,city:r,state:i,pincode:l}),!t&&!a&&!c&&!s&&!n&&!r&&!i&&!l)return!0})(n)&&(t(n,e.loader),e.edit(!1))},className:"primary-btn",children:[Object(m.jsx)("i",{className:"fa fa-edit"})," Edit Address"]}),Object(m.jsx)("button",{onClick:function(){return e.edit(!1)},className:"secondary-btn",children:"Cancel"})]})},te=function(e){var t,a,s=e._id,n=e.name,r=e.type,o=e.number,d=e.pincode,u=e.city,j=e.state,h=e.address,p=e.locality,O=Object(c.useState)(!1),f=Object(l.a)(O,2),x=f[0],v=f[1],y=X(),N=y.setSelectedAddress,_=y.removeAddress,w=y.selectedAddress,k=g().cart,C=Object(i.h)(),A=null===(t=Object(i.g)())||void 0===t||null===(a=t.state)||void 0===a?void 0:a.from,T=Object(c.useState)(!1),I=Object(l.a)(T,2),E=I[0],D=I[1];return Object(m.jsxs)("div",{className:"addresses_container",children:[Object(m.jsx)(S,{show:E}),x?Object(m.jsx)(ee,Object(b.a)(Object(b.a)({},e),{},{edit:v,loader:D})):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",{id:s,name:"address",checked:w&&w._id===s,type:"radio",onChange:function(e){N(e.target.id,D)}}),Object(m.jsxs)("div",{className:"addresses",children:[Object(m.jsx)("span",{className:"address_type",children:r}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("span",{className:"name",children:[" ",n]}),Object(m.jsxs)("span",{className:"number",children:[" \xa0",o," "]}),Object(m.jsx)("div",{className:"removeIcon",children:Object(m.jsx)("button",{title:"remove",onClick:function(){return _(s,D)},children:Object(m.jsx)("i",{style:{color:"rgb(223, 71, 89)"},className:"fa fa-trash","aria-hidden":"true"})})}),Object(m.jsxs)("button",{onClick:function(){return v(!x)},className:"secondary-btn",children:[Object(m.jsx)("i",{className:"fa fa-edit"})," EDIT"]})]}),Object(m.jsxs)("p",{children:[h," , ",p," , ",u," , ",j," ,",Object(m.jsxs)("strong",{children:[" ",d]})]}),"cart"===A&&s===w._id&&Object(m.jsx)("button",{style:{width:"fit-content"},className:"secondary-btn",onClick:function(){return k.length>0?C("/ordersummary",{state:{from:"address"}}):C("/cart")},children:"Deliver to this address"})]})]})]})},ae=function(){var e,t;Object(c.useEffect)((function(){window.scroll({behavior:"smooth",top:0})}));var a=X().address,s=Object(i.h)(),n=null===(e=Object(i.g)())||void 0===e||null===(t=e.state)||void 0===t?void 0:t.from;return Object(m.jsxs)("div",{className:"address_container",children:[Object(m.jsx)("h3",{children:"Choose Delivery Address"}),null===a||void 0===a?void 0:a.map((function(e){return Object(m.jsx)(te,Object(b.a)({},e),e._id)})),Object(m.jsx)("br",{}),Object(m.jsx)("button",{className:"primary-btn",onClick:function(){return s("/newaddress",{state:{from:n}})},children:"Add a new Address"})]})},ce=function(){var e,t,a=X().addAddress,s=Object(i.h)(),n=Object(c.useState)(!1),r=Object(l.a)(n,2),o=r[0],d=r[1],u=null===(e=Object(i.g)())||void 0===e||null===(t=e.state)||void 0===t?void 0:t.from,j=Object(c.useState)({name:"",type:"",number:"",address:"",locality:"",city:"",state:"",pincode:""}),h=Object(l.a)(j,2),p=h[0],O=h[1],f=Object(c.useState)({name:"",type:"",number:"",address:"",locality:"",city:"",state:"",pincode:""}),x=Object(l.a)(f,2),v=x[0],y=x[1],N=p.name,g=p.number,_=p.address,w=p.locality,k=p.city,C=p.state,A=p.pincode,T=function(e){var t=e.target,a=t.value,c=t.name;O(Object(b.a)(Object(b.a)({},p),{},Object(P.a)({},c,a)))};return Object(m.jsxs)("div",{className:"newAddress",children:[Object(m.jsx)(S,{show:o}),Object(m.jsx)("h2",{children:"Add a new address"}),Object(m.jsxs)("form",{children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"name",children:"Name :"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",name:"name",className:"form-control",placeholder:"Enter your name..",value:N,onChange:T}),Object(m.jsx)("span",{className:"invalid-feedback",children:v.name})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"number",children:"Mobile Number :"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"number",name:"number",className:"form-control",placeholder:"mobile number..",value:g,onChange:T}),Object(m.jsx)("span",{className:"invalid-feedback",children:v.number})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"pincode",children:"Pincode :"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"number",name:"pincode",className:"form-control",placeholder:"pincode..",value:A,onChange:T}),Object(m.jsx)("span",{className:"invalid-feedback",children:v.pincode})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"locality",children:"Locality :"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",name:"locality",className:"form-control",placeholder:"locality..",value:w,onChange:T}),Object(m.jsx)("span",{className:"invalid-feedback",children:v.locality})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"address",children:"Address :"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("textarea",{name:"address",className:"form-control",placeholder:"Enter address",value:_,onChange:T}),Object(m.jsx)("span",{className:"invalid-feedback",children:v.address})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"city",children:"City :"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",name:"city",className:"form-control",placeholder:"City/District/Town",value:k,onChange:T}),Object(m.jsx)("span",{className:"invalid-feedback",children:v.city})]})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"state",children:"State :"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("input",{type:"text",name:"state",className:"form-control",placeholder:"State...",value:C,onChange:T}),Object(m.jsx)("span",{className:"invalid-feedback",children:v.state})]})]}),Object(m.jsx)("label",{htmlFor:"type",children:Object(m.jsx)("strong",{children:"Address type :"})}),Object(m.jsx)("input",{type:"radio",value:"Home",name:"type",onChange:T}),"Home",Object(m.jsx)("input",{type:"radio",value:"Office",name:"type",onChange:T}),"Office \xa0 ",Object(m.jsx)("span",{className:"invalid-feedback",children:v.type}),Object(m.jsx)("br",{}),Object(m.jsx)("button",{onClick:function(e){e.preventDefault(),function(e){var t,a,c,s,n,r,i,l;if(""===e.name&&(t="please fill this field"),""===e.type&&(a="please fill this field"),/^[6789]\d{9}$/.test(e.number)||(c="Invalid mobile number"),""===e.address&&(s="please fill this field"),""===e.locality&&(n="please fill this field"),""===e.city&&(r="please fill this field"),""===e.state&&(i="please fill this field"),""===e.pincode&&(l="please fill this field"),y({name:t,type:a,number:c,address:s,locality:n,city:r,state:i,pincode:l}),!t&&!a&&!c&&!s&&!n&&!r&&!i&&!l)return!0}(p)&&a(p,d,u)},className:"primary-btn",children:"Save Address"}),Object(m.jsx)("button",{onClick:function(){return s("/address",{state:{from:u}})},className:"secondary-btn",children:"Cancel"})]})]})},se=function(){var e=x(),t=e.name,a=e.email;return Object(c.useEffect)((function(){window.scroll({behavior:"smooth",top:0})}),[]),Object(m.jsxs)("div",{className:"account__container",children:[Object(m.jsx)("div",{className:"account__avatar",children:Object(m.jsx)("img",{src:"https://th.bing.com/th/id/OIP.AW_0CHhYeO98vZhNOYsfwwHaHa?w=185&h=185&c=7&o=5&dpr=1.25&pid=1.7",alt:"Avatar",className:"avatar"})}),Object(m.jsx)("div",{children:Object(m.jsx)("h2",{children:"Account Information"})}),Object(m.jsxs)("div",{className:"account__content",children:[Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name: "}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{className:"form-control",type:"text",name:"name",value:t,disabled:!0})})]}),Object(m.jsxs)("div",{className:"form-group",children:[Object(m.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email: "}),Object(m.jsx)("div",{children:Object(m.jsx)("input",{className:"form-control",type:"email",name:"email",value:a,disabled:!0})})]}),Object(m.jsx)("button",{className:"secondary-btn",children:"Edit"})]})]})},ne=(a(53),function(){var e=Object(i.i)().productId,t=Object(c.useState)({}),a=Object(l.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(!1),o=Object(l.a)(r,2),d=o[0],b=o[1],h=Object(c.useState)(!1),O=Object(l.a)(h,2),f=O[0],x=O[1],v=k(),y=v.wishlist,N=v.handleWishlist,_=g(),w=_.cart,C=_.addToCart,S=Object(c.useState)(!1),A=Object(l.a)(S,2),T=A[0],I=A[1];return Object(c.useEffect)((function(){Object(j.a)(u.a.mark((function t(){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("https://astraShop.reetrs.repl.co/api/products/".concat(e));case 3:a=t.sent,c=a.data,n(c.product),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),I(!0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[e]),Object(m.jsxs)("div",{className:"individual__product__container",children:[Object(m.jsx)(F,{show:T,onClick:function(){return I(!1)},message:"Something went wrong with server",error:!0,background:"red",color:"white"}),Object(m.jsxs)("div",{className:"individual__product__card",children:[Object(m.jsx)("img",{alt:"product",className:"individual__product__card__image",src:null===s||void 0===s?void 0:s.image}),Object(m.jsxs)("div",{className:"individual__product__card__content",children:[Object(m.jsx)("h2",{children:null===s||void 0===s?void 0:s.name}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("h3",{className:"price",children:["Rs. ",null===s||void 0===s?void 0:s.price]}),Object(m.jsx)("small",{className:"taxes",children:"Inclusive of all taxes"})]}),(null===s||void 0===s?void 0:s.fastDelivery)&&Object(m.jsxs)("small",{className:"card-content-details",children:[Object(m.jsx)("i",{className:"fas fa-shipping-fast"})," Fast Delivery"]}),Object(m.jsx)("p",{className:"description",children:null===s||void 0===s?void 0:s.description}),Object(m.jsxs)("div",{children:[Object(m.jsxs)("button",{onClick:function(){return C(s,b,I)},className:"primary-btn",disabled:!(null===s||void 0===s?void 0:s.stock)||d,children:[!d&&(s.stock?w.find((function(e){return(null===e||void 0===e?void 0:e.product._id)===(null===s||void 0===s?void 0:s._id)}))?"GO TO CART":"ADD TO CART":"OUT OF STOCK"),Object(m.jsx)(z,{show:d})]})," ",Object(m.jsxs)("button",{onClick:function(){return N(s,x,I)},className:"secondary-btn",disabled:!(null===s||void 0===s?void 0:s.stock)||d,children:[!f&&(y.find((function(e){return(null===e||void 0===e?void 0:e._id)===(null===s||void 0===s?void 0:s._id)}))?"REMOVE FROM WISHLIST":"ADD TO WISHLIST"),Object(m.jsx)(z,{show:f})]})]})]})]})]})}),re=function(){var e=Object(i.h)();return Object(m.jsxs)("div",{className:"route__not__found",children:[Object(m.jsx)("h1",{children:"404 Route Not Found!!"}),Object(m.jsx)("button",{className:"go__to__home__btn",onClick:function(){return e("/")},children:"GO TO HOMEPAGE"})]})},ie=(a(54),function(){var e=x().isUserloggedIn;return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(T,{}),Object(m.jsxs)(i.d,{children:[!e&&Object(m.jsx)(i.b,{path:"/login",element:Object(m.jsx)(R,{})}),!e&&Object(m.jsx)(i.b,{path:"/signup",element:Object(m.jsx)(L,{})}),Object(m.jsx)(i.b,{path:"/",element:Object(m.jsx)(V,{})}),Object(m.jsx)(i.b,{path:"/products/:productId",element:Object(m.jsx)(ne,{})}),Object(m.jsx)(D,{path:"/wishlist",element:Object(m.jsx)($,{})}),Object(m.jsx)(D,{path:"/cart",element:Object(m.jsx)(W,{})}),Object(m.jsx)(D,{path:"/address",element:Object(m.jsx)(ae,{})}),Object(m.jsx)(D,{path:"/editaddress",element:Object(m.jsx)(ee,{})}),Object(m.jsx)(D,{path:"/newaddress",element:Object(m.jsx)(ce,{})}),Object(m.jsx)(D,{path:"/myaccount",element:Object(m.jsx)(se,{})}),Object(m.jsx)(i.b,{path:"*",element:Object(m.jsx)(re,{})})]})]})});r.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(o.a,{children:Object(m.jsx)(f,{children:Object(m.jsx)(K,{children:Object(m.jsx)(B,{children:Object(m.jsx)(w,{children:Object(m.jsx)(N,{children:Object(m.jsx)(ie,{})})})})})})})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.f39723fc.chunk.js.map