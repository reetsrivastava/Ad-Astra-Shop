(this["webpackJsonpastra-shop"]=this["webpackJsonpastra-shop"]||[]).push([[0],{53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),r=a(24),n=a.n(r),i=a(6),l=a(2),o=a(5),d=a(3),j=a.n(d),u=a(7),b=a(4),h=a(8),m=a.n(h),O=a(0),p=Object(c.createContext)(),f=function(e){var t,a=e.children,s=Object(c.useReducer)((function(e,t){switch(t.type){case"LOGIN":return Object(b.a)({},t.payload);case"SIGNOUT":return{token:"",login:!1,name:"",uid:"",email:""};default:return e}}),JSON.parse(null===(t=localStorage)||void 0===t?void 0:t.getItem("authToken"))||{token:"",login:!1,name:"",uid:"",email:""}),r=Object(l.a)(s,2),n=r[0],i=n.token,o=n.login,d=n.name,h=n.uid,f=n.email,x=r[1];function v(){return(v=Object(u.a)(j.a.mark((function e(t,a){var c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),a&&a(),e.prev=2,e.next=5,m.a.post("https://shopping-hub-2021.herokuapp.com/api/users/signout");case 5:c=e.sent,200===c.status&&(null===(s=localStorage)||void 0===s||s.removeItem("authToken"),x({type:"SIGNOUT"}),t(!1)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t(!1);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){o&&Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("https://astraShop.reetrs.repl.co/api/users/protected",{},{headers:{Authorization:"Bearer ".concat(i)}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),x({type:"SIGNOUT"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}),[o,i]),Object(O.jsx)(p.Provider,{value:{isUserloggedIn:o,token:i,uid:h,name:d,email:f,dispatch:x,signout:function(e,t){return v.apply(this,arguments)}},children:a})},x=function(){return Object(c.useContext)(p)},v="https://astraShop.reetrs.repl.co",y=Object(c.createContext)(),N=function(e){var t=e.children,a=function(){var e=Object(i.h)(),t=x(),a=t.isUserloggedIn,s=t.uid;Object(c.useEffect)((function(){a&&Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(v,"/api/carts/").concat(s));case 3:a=e.sent,d({type:"UPDATE_CART",payload:null===(t=a.data)||void 0===t?void 0:t.cart}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",d({type:"UPDATE_CART",payload:[]}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[s,a]);var r=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_CART":return t.payload;default:return e}}),[]),n=Object(l.a)(r,2),o=n[0],d=n[1],b=function(){var t=Object(u.a)(j.a.mark((function t(c,r,n){var i,l;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",e("/login"));case 2:if(!o.find((function(e){return e.product._id===c._id}))){t.next=4;break}return t.abrupt("return",e("/cart"));case 4:return r(!0),t.prev=5,t.next=8,m.a.post("".concat(v,"/api/carts/").concat(s),{productID:c._id,quantity:1});case 8:i=t.sent,l=i.data,200===i.status&&(d({type:"UPDATE_CART",payload:l.cart.products}),r(!1)),t.next=19;break;case 14:t.prev=14,t.t0=t.catch(5),r(!1),n(!0),setTimeout((function(){n(!1)}),2e3);case 19:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(e,a,c){return t.apply(this,arguments)}}(),h=function(){var e=Object(u.a)(j.a.mark((function e(t,a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.delete("".concat(v,"/api/carts/").concat(s,"/").concat(t));case 3:c=e.sent,r=c.data,200===c.status&&d({type:"UPDATE_CART",payload:r.cart.products}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a(!0),setTimeout((function(){a(!1)}),2e3);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(j.a.mark((function e(t,a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("".concat(v,"/api/carts/").concat(s,"/").concat(t,"/increasequantity"));case 3:c=e.sent,r=c.data,200===c.status&&d({type:"UPDATE_CART",payload:r.cart.products}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a(!0),setTimeout((function(){a(!1)}),2e3);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(j.a.mark((function e(t,a){var c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("".concat(v,"/api/carts/").concat(s,"/").concat(t,"/decreasequantity"));case 3:c=e.sent,r=c.data,200===c.status&&d({type:"UPDATE_CART",payload:r.cart.products}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),a(!0),setTimeout((function(){a(!1)}),2e3);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}();return{cart:o,emptyCart:function(){var e=Object(u.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.delete("".concat(v,"/api/carts/").concat(s));case 3:a=e.sent,c=a.data,200===a.status&&d({type:"UPDATE_CART",payload:c.cart.products}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),t(!0),setTimeout((function(){t(!1)}),2e3);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),addToCart:b,increaseQuantityOfProduct:O,decreaseQuantityOfProduct:p,removeFromCart:h}}(),s=a.cart,r=a.removeFromCart,n=a.addToCart,o=a.increaseQuantityOfProduct,d=a.decreaseQuantityOfProduct,b=a.emptyCart,h=s.reduce((function(e,t){var a;return parseInt(e)+parseInt((null===t||void 0===t||null===(a=t.product)||void 0===a?void 0:a.price)*(null===t||void 0===t?void 0:t.quantity))}),0),p=s.reduce((function(e,t){return parseInt(e)+parseInt(null===t||void 0===t?void 0:t.quantity)}),0);return Object(O.jsx)(y.Provider,{value:{cart:s,removeFromCart:r,increaseQuantityOfProduct:o,decreaseQuantityOfProduct:d,totalCartValue:h,totalCartItem:p,addToCart:n,emptyCart:b},children:t})},_=function(){return Object(c.useContext)(y)},g=Object(c.createContext)(),w=function(e){var t=e.children,a=function(){var e=Object(i.h)(),t=x(),a=t.isUserloggedIn,s=t.uid;Object(c.useEffect)((function(){a&&Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(v,"/api/wishlists/").concat(s));case 3:a=e.sent,d({type:"UPDATE_WISHLIST",payload:null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.wishlist}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",d({type:"UPDATE_WISHLIST",payload:[]}));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[s,a]);var r=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_WISHLIST":return t.payload;default:return e}}),[]),n=Object(l.a)(r,2),o=n[0],d=n[1],b=function(){var t=Object(u.a)(j.a.mark((function t(c,r,n){var i,l,u,b;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return",e("/login"));case 2:if(r(!0),t.prev=3,!o.find((function(e){return e._id===c._id}))){t.next=13;break}return t.next=7,m.a.delete("".concat(v,"/api/wishlists/").concat(s,"/").concat(c._id));case 7:if(i=t.sent,l=i.data,200!==i.status){t.next=13;break}return r(!1),t.abrupt("return",d({type:"UPDATE_WISHLIST",payload:l.wishlist.products}));case 13:return t.next=15,m.a.post("".concat(v,"/api/wishlists/").concat(s),{productID:c._id});case 15:if(u=t.sent,b=u.data,200!==u.status){t.next=21;break}return r(!1),t.abrupt("return",d({type:"UPDATE_WISHLIST",payload:b.wishlist.products}));case 21:t.next=28;break;case 23:t.prev=23,t.t0=t.catch(3),r(!1),n(!0),setTimeout((function(){n(!1)}),2e3);case 28:case"end":return t.stop()}}),t,null,[[3,23]])})));return function(e,a,c){return t.apply(this,arguments)}}();return{wishlist:o,dispatch:d,handleWishlist:b}}(),s=a.wishlist,r=a.dispatch,n=a.handleWishlist;return Object(O.jsx)(g.Provider,{value:{wishlist:s,dispatchWishlist:r,handleWishlist:n},children:t})},k=function(){return Object(c.useContext)(g)},C=function(e){var t=e.show,a=e.children,c=e.onClick;return t?Object(O.jsx)("div",{className:"backdrop",onClick:c,children:a}):""},S=function(e){return e.show?Object(O.jsx)("div",{className:"spinner__container",children:Object(O.jsx)("div",{className:"spinner"})}):""},A=function(e){var t=e.className,a=e.setShowSidebar,s=x(),r=s.isUserloggedIn,n=s.signout,i=function(){return a(!1)},d=Object(c.useState)(!1),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(c.useState)(!1),m=Object(l.a)(h,2),p=m[0],f=m[1];return Object(O.jsxs)("div",{children:[Object(O.jsx)(S,{show:u}),Object(O.jsx)(C,{show:p,onClick:function(){return f(!1)}}),Object(O.jsxs)("div",{className:"sidebar ".concat(t),children:[Object(O.jsx)("i",{className:"fas fa-window-close closeBtn",onClick:i}),Object(O.jsx)("section",{className:"sidebar__header",children:Object(O.jsx)("h3",{children:"AstraShop"})}),Object(O.jsxs)("section",{className:"profile__pic",children:[Object(O.jsx)(o.b,{to:"/myaccount",onClick:i,className:"avatar-link",children:Object(O.jsx)("span",{className:"avatar",children:"Profile"})}),r?Object(O.jsx)("p",{style:{margin:"0.5rem 0"}}):Object(O.jsx)("p",{style:{margin:"0.5rem 0"},children:"Login/Signup"})]}),Object(O.jsxs)("section",{className:"sidebar__links__section",children:[Object(O.jsxs)(o.b,{className:"sidebar__link",to:"/products",onClick:i,children:[Object(O.jsx)("i",{className:"fa fa-home"}),"\xa0\xa0Products"]}),r&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(o.b,{className:"sidebar__link",to:"/address",onClick:i,children:[Object(O.jsx)("i",{className:"fas fa-address-card"}),"\xa0\xa0Your Address"]}),Object(O.jsxs)(o.b,{className:"sidebar__link",to:"/orders",onClick:i,children:[Object(O.jsx)("i",{className:"fas fa-truck"}),"\xa0\xa0 Orders"]}),Object(O.jsxs)("div",{className:"sidebar__link",onClick:function(){return n(b,i)},children:[Object(O.jsx)("i",{className:"fa fa-sign-out"}),"\xa0\xa0signout"]})," "]})]})]})]})},T=function(){var e=_().totalCartItem,t=k().wishlist,a=Object(i.h)(),s=x(),r=s.userDetails,n=s.isUserloggedIn,d=Object(c.useState)(!1),j=Object(l.a)(d,2),u=j[0],b=j[1];return Object(O.jsxs)("nav",{className:"nav",children:[Object(O.jsx)(C,{show:u,onClick:function(){return b(!1)}}),Object(O.jsx)(A,{className:u?"show__sidebar":"",setShowSidebar:b}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)("i",{style:{fontSize:"1.2rem"},className:"fa fa-bars",onClick:function(){return b(!0)}})}),Object(O.jsx)("li",{style:{flexGrow:1},children:Object(O.jsx)(o.c,{to:"/",className:"nav-link site__name",children:"Ad AstraShop"})}),Object(O.jsx)("li",{children:Object(O.jsxs)(o.c,{to:"/products",className:"nav-link",children:[Object(O.jsx)("i",{className:"fab fa-product-hunt"}),Object(O.jsx)("span",{className:"icon-name",children:"Shop"})]})}),r&&n&&Object(O.jsx)("li",{className:"profile__avatar__container",onClick:function(){return a("/myaccount")},children:Object(O.jsxs)("div",{className:"profile__avatar",children:[Object(O.jsx)("i",{class:"fas fa-sign-in-alt"}),Object(O.jsxs)("h4",{children:[r.name,"!"]})]})}),n&&Object(O.jsx)("li",{children:Object(O.jsxs)(o.c,{to:"/wishlist",className:"nav-link",children:[Object(O.jsx)("i",{className:"fa fa-heart"}),Object(O.jsxs)("span",{className:"icon-name",children:["Wishlist(",t.length,")"]})]})}),n&&Object(O.jsx)("li",{children:Object(O.jsxs)(o.c,{to:"/cart",className:"nav-link",children:[Object(O.jsx)("i",{className:"fa fa-shopping-cart"}),Object(O.jsxs)("span",{className:"icon-name",children:["Cart(",e,")"]})]})}),!n&&Object(O.jsx)("li",{className:"loginBtn",children:Object(O.jsxs)(o.c,{to:"/login",className:"nav-link",children:[Object(O.jsx)("i",{className:"fa fa-user"}),Object(O.jsx)("span",{className:"icon-name",children:"Login/Signup"})]})})]})]})},D=a(26),I=["path"],E=function(e){var t=e.path,a=Object(D.a)(e,I);return x().isUserloggedIn?Object(O.jsx)(i.b,Object(b.a)({path:t},a)):Object(O.jsx)(i.a,{state:{from:t},to:"/login",replace:!0})},P=a(10),R=function(){Object(c.useEffect)((function(){window.scroll({behavior:"smooth",top:0})}),[]);var e=Object(c.useState)({email:"",password:""}),t=Object(l.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)({email:"",password:""}),n=Object(l.a)(r,2),d=n[0],h=n[1],p=Object(c.useState)(!1),f=Object(l.a)(p,2),y=f[0],N=f[1],_=Object(c.useState)(!1),g=Object(l.a)(_,2),w=g[0],k=g[1],C=Object(i.h)(),A=Object(i.g)().state,T=x().dispatch,D=function(e){var t=e.target,a=t.value,c=t.name;s((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(P.a)({},c,a))}))},I=function(e){var t,a;if(/^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/.test(e.email)||(t="Please enter a valid email address"),/^(?=.*\d)(?=.*[a-z])(?=.*[a-zA-Z]).{8,}$/.test(e.password)||(a="minimum length of password will be 8, at least 1 lowercase letter and 1 number"),h({email:t,password:a}),!t&&!a)return!0};function E(e){return R.apply(this,arguments)}function R(){return(R=Object(u.a)(j.a.mark((function e(t){var a,c,s,r,n,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post("".concat(v,"/api/users/login"),t);case 3:a=e.sent,c=a.status,s=a.data,200===c&&(localStorage.setItem("authToken",JSON.stringify(Object(b.a)({},s))),T({type:"LOGIN",payload:s}),C(null===A?"/":A.from)),N(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),N(!1),r=e.t0.response,n=r.status,i=r.data,401===n?h((function(e){return Object(b.a)(Object(b.a)({},e),{},{password:i.message})})):404===n&&h((function(e){return Object(b.a)(Object(b.a)({},e),{},{email:i.message})}));case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var F=function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),I(a)&&(N(!0),E(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)(S,{show:y}),Object(O.jsxs)("div",{className:"login__container",children:[Object(O.jsxs)("form",{onSubmit:F,children:[Object(O.jsx)("h1",{className:"form__heading",children:"LOGIN"}),Object(O.jsxs)("div",{className:"form__group",children:[Object(O.jsx)("label",{className:"form__label",htmlFor:"email",children:"Email : "}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{className:"form__control",value:a.email,onChange:D,type:"email",name:"email"}),Object(O.jsx)("span",{className:"invalid-feedback",children:d.email})]})]}),Object(O.jsxs)("div",{className:"form__group",children:[Object(O.jsx)("label",{className:"form__label",htmlFor:"password",children:"Password : "}),Object(O.jsxs)("div",{className:"form__input__container",children:[Object(O.jsx)("div",{onClick:function(){return k((function(e){return!e}))},children:w?Object(O.jsx)("i",{className:"fa fa-eye"}):Object(O.jsx)("i",{className:"fa fa-eye-slash"})}),Object(O.jsx)("input",{className:"form__control",value:a.password,onChange:D,type:w?"text":"password",name:"password"}),Object(O.jsx)("span",{className:"invalid-feedback",children:d.password})]})]}),Object(O.jsx)("input",{type:"submit",className:"primary-btn",value:"LOGIN"})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("small",{children:["Don't have an account? ",Object(O.jsx)(o.b,{to:"/signup",className:"signup__link",children:Object(O.jsx)("u",{children:"SIGN UP"})})]}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"separator",children:[Object(O.jsx)("div",{className:"separator__line"}),Object(O.jsx)("div",{className:"separator__text",children:"OR"}),Object(O.jsx)("div",{className:"separator__line"})]}),Object(O.jsx)("button",{onClick:function(){N(!0),E({email:"baby@gmail.com",password:"Baby@1234"})},style:{display:"block",width:"100%"},className:"primary-btn",children:"Login as guest"})]})]})]})},F=function(e){var t=e.show,a=e.message,c=e.color,s=e.background,r=e.className,n=e.error,i=e.onClick;return Object(O.jsx)(C,{show:t,onClick:i,children:Object(O.jsxs)("div",{style:{color:c,background:s},className:"toast toast__content ".concat(r),children:[n?Object(O.jsx)("i",{className:"fas fa-window-close"}):Object(O.jsx)("i",{className:"fas fa-badge-check"}),"\xa0",a]})})},U=function(){Object(c.useEffect)((function(){window.scroll({behavior:"smooth",top:0})}),[]);var e=Object(c.useState)({email:"",password:"",name:""}),t=Object(l.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)({email:"",password:"",name:""}),n=Object(l.a)(r,2),i=n[0],d=n[1],h=Object(c.useState)(!1),p=Object(l.a)(h,2),f=p[0],x=p[1],y=Object(c.useState)(!1),N=Object(l.a)(y,2),_=N[0],g=N[1],w=Object(c.useState)(!1),k=Object(l.a)(w,2),C=k[0],A=k[1],T=function(e){var t=e.target,a=t.value,c=t.name;s((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(P.a)({},c,a))}))},D=function(e){var t,a,c;if(""===e.name&&(t="Please fill this field"),/^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$/.test(e.email)||(a="Please enter a valid email address"),/^(?=.*\d)(?=.*[a-z])(?=.*[a-zA-Z]).{8,}$/.test(e.password)||(c="minimum length of password will be 8, at least 1 lowercase letter and 1 number"),d({name:t,email:a,password:c}),!t&&!a&&!c)return!0},I=function(){var e=Object(u.a)(j.a.mark((function e(t){var c,r,n,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!D(a)){e.next=18;break}return x(!0),e.prev=3,e.next=6,m.a.post("".concat(v,"/api/users/signup"),a);case 6:c=e.sent,r=c.data,200===c.status&&(g(r.message),setTimeout((function(){g("")}),2e3),s({name:"",email:"",password:""})),x(!1),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(3),x(!1),n=e.t0.response,i=n.status,l=n.data,409===i&&d((function(e){return Object(b.a)(Object(b.a)({},e),{},{email:l.message})}));case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)(S,{show:f}),Object(O.jsx)(F,{show:_,message:_,className:"toast__content",background:"var(--secondary)",color:"var(--primary)"}),Object(O.jsxs)("div",{className:"login__container",children:[Object(O.jsxs)("form",{onSubmit:I,children:[Object(O.jsx)("h1",{className:"form__heading",children:"SIGN UP"}),Object(O.jsxs)("div",{className:"form__group",children:[Object(O.jsx)("label",{className:"form__label",htmlFor:"name",children:"Name : "}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{className:"form__control",value:a.name,onChange:T,type:"text",name:"name"}),Object(O.jsx)("span",{className:"invalid-feedback",children:i.name})]})]}),Object(O.jsxs)("div",{className:"form__group",children:[Object(O.jsx)("label",{className:"form__label",htmlFor:"email",children:"Email : "}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{className:"form__control",value:a.email,onChange:T,type:"email",name:"email"}),Object(O.jsx)("span",{className:"invalid-feedback",children:i.email})]})]}),Object(O.jsxs)("div",{className:"form__group",children:[Object(O.jsx)("label",{className:"form__label",htmlFor:"password",children:"Password : "}),Object(O.jsxs)("div",{className:"form__input__container",children:[Object(O.jsx)("div",{onClick:function(){return A((function(e){return!e}))},children:C?Object(O.jsx)("i",{className:"fa fa-eye"}):Object(O.jsx)("i",{className:"fa fa-eye-slash"})}),Object(O.jsx)("input",{className:"form__control",value:a.password,onChange:T,type:C?"text":"password",name:"password"}),Object(O.jsx)("span",{className:"invalid-feedback",children:i.password})]})]}),Object(O.jsx)("input",{type:"submit",className:"secondary-btn",value:"SIGNUP"})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("small",{children:["Already have an account? ",Object(O.jsx)(o.b,{to:"/login",className:"signup__link",children:"LOGIN"})]})]})]})},L=a.p+"static/media/empty.498b68fd.svg";function H(e){var t=e.value;return Object(O.jsxs)("div",{className:"empty-container",children:[Object(O.jsx)("img",{src:L,alt:""}),Object(O.jsx)(o.b,{to:"/products",className:"empty-link",children:Object(O.jsxs)("strong",{children:[t," is Empty. Maybe Add Some"]})})]})}var W=function(e,t){var a=!0;return function(){var c=this;a&&(a=!1,e.apply(c,Array.prototype.slice.call(arguments)),setTimeout((function(){a=!0}),t))}},M=function(){var e=k().handleWishlist,t=_(),a=t.decreaseQuantityOfProduct,c=t.increaseQuantityOfProduct,s=t.addToCart,r=t.removeFromCart;return{throttleHandleWishlist:W(e,1500),throttleDecreaseQuantity:W(a,1500),throttleIncreaseQuantity:W(c,1500),throttleAddToCart:W(s,1500),throttleRemoveFromCart:W(r,1500)}},G=function(){Object(c.useEffect)((function(){window.scroll({behavior:"smooth",top:0})}),[]);var e=Object(i.h)(),t=k().wishlist,a=Object(c.useState)(!1),s=Object(l.a)(a,2),r=s[0],n=s[1],d=_(),j=d.cart,u=d.totalCartValue,b=d.totalCartItem,h=M(),m=h.throttleDecreaseQuantity,p=h.throttleRemoveFromCart,f=h.throttleIncreaseQuantity,x=h.throttleHandleWishlist;return Object(O.jsxs)("div",{className:"cart-container",children:[Object(O.jsx)(F,{show:r,onClick:function(){return n(!1)},message:"Something went wrong with server",error:!0,background:"red",color:"white"}),Object(O.jsxs)("h1",{children:["My Cart ( ",b," )"]}),j.length>0?j.map((function(e){return Object(O.jsxs)("div",{className:"card-horizontal",children:[Object(O.jsx)(o.b,{to:"/products/".concat(e.product._id),children:Object(O.jsx)("img",{alt:"product",className:"card-img cart-card-img",src:e.product.image+"?random=".concat(Math.round(1e3*Math.random()))})}),Object(O.jsxs)("div",{className:"card-body",children:[Object(O.jsx)("h4",{className:"card-title",children:e.product.name}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("small",{children:["Price : \u20b9",e.product.price]}),"\xa0",Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{disabled:e.quantity<=1,onClick:function(){return m(e.product._id,n)},children:"-"}),"\xa0",e.quantity,"\xa0",Object(O.jsx)("button",{onClick:function(){return f(e.product._id,n)},children:"+"})]}),Object(O.jsxs)("div",{className:"card-footer",children:[Object(O.jsx)("div",{className:"wishlist-icon",children:Object(O.jsx)("i",{onClick:function(){return x(e.product,(function(){}),n)},style:{color:t.find((function(t){return t._id===e.product._id}))?"var(--danger-color)":"var(--tertiary)"},className:"fa fa-heart fa-border","aria-hidden":"true"})}),Object(O.jsx)("button",{onClick:function(){return p(e.product._id,n)},className:"secondary-btn",style:{padding:"0.2rem 0.5rem",borderRadius:"2px"},children:"REMOVE"})]})]})]},e.product._id)})):Object(O.jsx)(H,{value:"Cart"}),j.length>0&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("h2",{children:["Total Price: \u20b9",u]}),Object(O.jsx)("button",{className:"primary-btn",onClick:function(){return e("/address",{state:{from:"cart"}})},children:"Proceed to checkout"})]})]})},Q=a(25),q=Object(c.createContext)(),B=function(e){var t=e.children;Object(c.useEffect)((function(){Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("https://astraShop.reetrs.repl.co/api/products");case 2:t=e.sent,a=t.data,n(a.products);case 5:case"end":return e.stop()}}),e)})))()}),[]);var a=Object(c.useState)([]),s=Object(l.a)(a,2),r=s[0],n=s[1],i=function(){var e=Object(c.useReducer)((function(e,t){switch(t.type){case"SORT":return Object(b.a)(Object(b.a)({},e),{},{sortBy:t.payload});case"INCLUDE_OUT_STOCK":return Object(b.a)(Object(b.a)({},e),{},{includeOutOfStock:!e.includeOutOfStock});case"FAST_DELIVERY":return Object(b.a)(Object(b.a)({},e),{},{fastDelivery:!e.fastDelivery});case"SORT_BY_PRICE_RANGE":return Object(b.a)(Object(b.a)({},e),{},{priceRange:t.payload});case"CLEAR_ALL_FILTER":return Object(b.a)(Object(b.a)({},e),{},{includeOutOfStock:!0,fastDelivery:!1,priceRange:null});default:return e}}),{sortBy:null,includeOutOfStock:!0,fastDelivery:!1,priceRange:null}),t=Object(l.a)(e,2);return{state:t[0],dispatch:t[1]}}(),o=i.state,d=i.dispatch,h=o.sortBy,p=o.includeOutOfStock,f=o.fastDelivery,x=o.priceRange,v=function(e){return e.filter((function(e){return!!p||e.stock})).filter((function(e){return!f||e.fastDelivery})).filter((function(e){return null===x||parseInt(e.price)<=parseInt(x)}))}(function(e){return"LOW_TO_HIGH"===h?e.sort((function(e,t){return e.price-t.price})):"HIGH_TO_LOW"===h?e.sort((function(e,t){return t.price-e.price})):e.sort((function(e){return e.stock?-1:1}))}(Object(Q.a)(r)));return Object(O.jsx)(q.Provider,{value:{totalProducts:r.length,priceRange:x,includeOutOfStock:p,products:v,sortBy:h,dispatchProduct:d,fastDelivery:f},children:t})},z=function(){return Object(c.useContext)(q)},V=function(e){var t=e.show,a=e.className;return t?Object(O.jsx)("div",{className:"btn__spinner ".concat(a)}):""},Z=function(e){var t=e.item,a=_().cart,s=k().wishlist,r=Object(c.useState)(!1),n=Object(l.a)(r,2),i=n[0],d=n[1],j=Object(c.useState)(!1),u=Object(l.a)(j,2),b=u[0],h=u[1],m=Object(c.useState)(!1),p=Object(l.a)(m,2),f=p[0],x=p[1],v=M(),y=v.throttleAddToCart,N=v.throttleHandleWishlist;return Object(O.jsxs)("div",{className:t.stock?"card":"card out-of-stock",children:[Object(O.jsx)(F,{show:f,onClick:function(){return x(!1)},message:"Something went wrong with server",error:!0,background:"red",color:"white"}),Object(O.jsxs)("div",{className:"wishlist-icon",children:[!b&&Object(O.jsx)("button",{className:"wishlist-button",onClick:function(){return N(t,h,x)},children:Object(O.jsx)("i",{style:{color:s.find((function(e){return(null===e||void 0===e?void 0:e._id)===(null===t||void 0===t?void 0:t._id)}))?"var(--danger-color)":"var(--tertiary)",margin:"0.25rem"},className:"fa fa-heart","aria-hidden":"true"})}),Object(O.jsx)(V,{show:b})]}),Object(O.jsx)(o.b,{to:"/products/".concat(t._id),children:Object(O.jsx)("img",{alt:"product",className:"card-img",src:t.image+"?random=".concat(Math.round(1e3*Math.random()))})}),Object(O.jsxs)("div",{className:"card-content",children:[Object(O.jsx)("h4",{children:t.name}),t.fastDelivery&&Object(O.jsxs)("small",{className:"card-content-details",children:[Object(O.jsx)("i",{className:"fas fa-shipping-fast"})," Fast Delivery"]}),Object(O.jsxs)("small",{className:"price",children:["\u20b9 ",t.price]})]}),Object(O.jsxs)("button",{onClick:function(){return y(t,d,x)},className:"primary-btn",style:{cursor:"".concat(t.stock?"":"not-allowed")},disabled:!t.stock,children:[!i&&(t.stock?a.find((function(e){return(null===e||void 0===e?void 0:e.product._id)===(null===t||void 0===t?void 0:t._id)}))?"GO TO CART":"ADD TO CART":"OUT OF STOCK"),Object(O.jsx)(V,{show:i})]})]},t._id)},Y=function(){var e=z(),t=e.totalProducts,a=e.products;return t?Object(O.jsx)("div",{style:{display:a.length>0?"grid":"block"},className:"products slide__products",children:a.length>0?a.map((function(e){return Object(O.jsx)(Z,{item:e},e._id)})):Object(O.jsx)("p",{style:{textAlign:"center"},children:"No results found"})}):Object(O.jsx)("div",{style:{display:a.length>0?"grid":"block"},className:"products",children:Object(O.jsx)(V,{show:!0,className:"loading__products"})})},$=function(){var e=z(),t=e.dispatchProduct,a=e.includeOutOfStock,c=e.fastDelivery;return Object(O.jsxs)("div",{className:"filter-content",children:[Object(O.jsxs)("label",{className:"filter-content-label",children:[Object(O.jsx)("input",{type:"checkbox",checked:a,onChange:function(){return t({type:"INCLUDE_OUT_STOCK"})}}),"Include Out Of Stock\xa0\xa0"]}),Object(O.jsxs)("label",{className:"filter-content-label",children:[Object(O.jsx)("input",{type:"checkbox",checked:c,onChange:function(){return t({type:"FAST_DELIVERY"})}}),"\xa0",Object(O.jsx)("i",{className:"fas fa-shipping-fast"})," Fast Delivery\xa0"]})]})},K=function(){Object(c.useEffect)((function(){var e=!0;return e&&window.scroll({behavior:"smooth",top:0}),function(){e=!1}}),[]);var e=z(),t=e.dispatchProduct,a=e.sortBy,s=Object(c.useState)(!1),r=Object(l.a)(s,2),n=r[0],i=r[1];return Object(O.jsxs)("div",{className:"products-container",children:[Object(O.jsxs)("div",{className:"sorting-container",children:[Object(O.jsxs)("div",{className:"dropdownBtn-container",children:[Object(O.jsxs)("small",{children:[Object(O.jsx)("i",{className:"fas fa-sort-amount-up-alt"})," Sort by :"]}),Object(O.jsxs)("select",{className:"dropdownBtn",value:null===a?"DEFAULT":a,onChange:function(e){t({type:"SORT",payload:e.target.value})},children:[Object(O.jsx)("option",{value:"DEFAULT",children:"Auto"}),Object(O.jsx)("option",{value:"HIGH_TO_LOW",children:"Price: High to low"}),Object(O.jsx)("option",{value:"LOW_TO_HIGH",children:"Price: Low to high"})]})]}),Object(O.jsx)("div",{className:"filter-btn-container",children:Object(O.jsxs)("button",{className:"filter-button",onClick:function(){return i(!n)},children:[Object(O.jsx)("i",{className:"fa fa-filter"})," Filter"]})})]}),n&&Object(O.jsx)($,{}),Object(O.jsx)(Y,{})]})},J=function(){Object(c.useEffect)((function(){window.scroll({behavior:"smooth",top:0})}),[]);var e=k().wishlist,t=_().cart,a=Object(c.useState)(!1),s=Object(l.a)(a,2),r=s[0],n=s[1],i=M(),d=i.throttleAddToCart,j=i.throttleHandleWishlist;return Object(O.jsxs)("div",{className:"wishlist-container",children:[Object(O.jsx)(F,{show:r,onClick:function(){return n(!1)},message:"Something went wrong with server",error:!0,background:"red",color:"white"}),Object(O.jsxs)("h1",{style:{textAlign:"center",marginTop:"1rem"},children:["Wishlist (",e.length,")"]}),Object(O.jsx)("div",{style:{display:e.length>0?"grid":"block"},className:"products",children:e.length>0?e.map((function(e){return Object(O.jsxs)("div",{className:e.stock?"card":"card out-of-stock",children:[Object(O.jsx)("div",{className:"remove-icon",children:Object(O.jsx)("i",{onClick:function(){return j(e,(function(){}),n)},style:{color:"rgb(223, 71, 89)"},className:"fa fa-trash","aria-hidden":"true"})}),Object(O.jsx)(o.b,{to:"/products/".concat(e._id),children:Object(O.jsx)("img",{alt:"product",className:"card-img",src:e.image+"?random=".concat(Math.round(1e3*Math.random()))})}),Object(O.jsxs)("div",{className:"card-content",children:[Object(O.jsx)("h4",{children:e.name}),Object(O.jsxs)("small",{className:"card-content-details",children:["Price:",e.price]}),e.fastDelivery&&Object(O.jsxs)("small",{className:"card-content-details",children:[Object(O.jsx)("i",{className:"fas fa-shipping-fast"})," Fast Delivery"]})]}),Object(O.jsx)("button",{onClick:function(){d(e,(function(){}),n),j(e,(function(){}),n)},disabled:!e.stock||t.find((function(t){return t.product._id===e._id})),className:"primary-btn",children:e.stock?t.find((function(t){return t.product._id===e._id}))?"Already in cart":"Move to cart":"Out of Stock"})]},e._id)})):Object(O.jsx)(H,{value:"Wishlist"})})]})},X=Object(c.createContext)(),ee=function(e){var t=e.children,a=function(){var e=x(),t=e.uid,a=e.isUserloggedIn,s=Object(i.h)();Object(c.useEffect)((function(){a&&Object(u.a)(j.a.mark((function e(){var a,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("".concat(v,"/api/addresses/").concat(t));case 3:s=e.sent,O({type:"INITIAL_STATE",payload:{address:null===s||void 0===s||null===(a=s.data)||void 0===a?void 0:a.addresses,selectedAddress:null===s||void 0===s||null===(c=s.data)||void 0===c?void 0:c.selectedAddress}}),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log("Unable to load address"),e.abrupt("return",O({type:"INITIAL_STATE",payload:{address:[],selectedAddress:""}}));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[t,a]);var r=Object(c.useReducer)((function(e,t){switch(t.type){case"INITIAL_STATE":return t.payload;case"UPDATE_ADDRESSES":return Object(b.a)(Object(b.a)({},e),{},{address:t.payload});case"SELECTED_ADDRESS":return Object(b.a)(Object(b.a)({},e),{},{selectedAddress:t.payload});default:return e}}),{address:[],selectedAddress:""}),n=Object(l.a)(r,2),o=n[0],d=o.address,h=o.selectedAddress,O=n[1],p=function(){var e=Object(u.a)(j.a.mark((function e(a,c,r){var n,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,m.a.post("".concat(v,"/api/addresses/").concat(t),a);case 4:n=e.sent,i=n.data,200===n.status&&(O({type:"UPDATE_ADDRESSES",payload:i.addresses.addresses}),console.log({updatedAddresses:null===i||void 0===i?void 0:i.addresses.addresses}),c(!1),s("/address",{state:{from:r}})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),c(!1);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a,c){return e.apply(this,arguments)}}(),f=function(){var e=Object(u.a)(j.a.mark((function e(a,c){var s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,m.a.delete("".concat(v,"/api/addresses/").concat(t,"/").concat(a));case 4:s=e.sent,r=s.data,200===s.status&&(O({type:"UPDATE_ADDRESSES",payload:r.addresses.addresses}),c(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),c(!1),alert("something went wrong with server");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(u.a)(j.a.mark((function e(a,c){var s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,m.a.post("".concat(v,"/api/addresses/").concat(t,"/").concat(a._id),a);case 4:s=e.sent,r=s.data,200===s.status&&(O({type:"UPDATE_ADDRESSES",payload:r.addresses.addresses}),c(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),c(!1),alert("something went wrong with server");case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(j.a.mark((function e(a,c){var s,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.prev=1,e.next=4,m.a.post("".concat(v,"/api/addresses/").concat(t,"/").concat(a,"/setaddress"));case 4:s=e.sent,r=s.data,n=s.status,console.log(r.selectedAddress),200===n&&(O({type:"SELECTED_ADDRESS",payload:r.selectedAddress}),c(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),c(!1),alert("something went wrong with server");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}();return{address:d,dispatch:O,selectedAddress:h,setSelectedAddress:N,addAddress:p,removeAddress:f,editAddress:y}}(),s=a.address,r=a.setSelectedAddress,n=a.selectedAddress,o=a.addAddress,d=a.removeAddress,h=a.editAddress,p=a.dispatch;return console.log({contextAddress:s}),Object(O.jsx)(X.Provider,{value:{address:s,addAddress:o,removeAddress:d,editAddress:h,setSelectedAddress:r,selectedAddress:n,dispatchAddress:p},children:t})},te=function(){return Object(c.useContext)(X)},ae=function(e){var t=te().editAddress,a=Object(c.useState)({_id:e._id,addressID:e.addressID,name:e.name,type:e.type,number:e.number,address:e.address,locality:e.locality,city:e.city,state:e.state,pincode:e.pincode}),s=Object(l.a)(a,2),r=s[0],n=s[1],i=Object(c.useState)({name:"",type:"",number:"",address:"",locality:"",city:"",state:"",pincode:""}),o=Object(l.a)(i,2),d=o[0],j=o[1],u=r.name,h=r.type,m=r.number,p=r.address,f=r.locality,x=r.city,v=r.state,y=r.pincode,N=function(e){var t=e.target,a=t.value,c=t.name;n((function(e){return Object(b.a)(Object(b.a)({},e),{},Object(P.a)({},c,a))}))};return Object(O.jsxs)("div",{className:"editAddress",children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"name",children:"Name :"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"text",name:"name",className:"form-control",placeholder:"Enter your name..",value:u,onChange:N}),Object(O.jsx)("span",{className:"invalid-feedback",children:d.name})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"number",children:"Mobile Number :"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"number",name:"number",className:"form-control",placeholder:"mobile number..",value:m,onChange:N}),Object(O.jsx)("span",{className:"invalid-feedback",children:d.number})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"pincode",children:"Pincode :"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"number",name:"pincode",className:"form-control",placeholder:"pincode..",value:y,onChange:N}),Object(O.jsx)("span",{className:"invalid-feedback",children:d.pincode})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"locality",children:"Locality :"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"text",name:"locality",className:"form-control",placeholder:"locality..",value:f,onChange:N}),Object(O.jsx)("span",{className:"invalid-feedback",children:d.locality})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"address",children:"Address :"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("textarea",{name:"address",className:"form-control",placeholder:"Enter address",value:p,onChange:N}),Object(O.jsx)("span",{className:"invalid-feedback",children:d.address})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"city",children:"City :"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"text",name:"city",className:"form-control",placeholder:"City/District/Town",value:x,onChange:N}),Object(O.jsx)("span",{className:"invalid-feedback",children:d.city})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"state",children:"State :"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"text",name:"state",className:"form-control",placeholder:"State...",value:v,onChange:N}),Object(O.jsx)("span",{className:"invalid-feedback",children:d.state})]})]}),Object(O.jsx)("label",{htmlFor:"type",children:Object(O.jsx)("strong",{children:"Address type :"})}),Object(O.jsx)("input",{type:"radio",checked:"Home"===h,value:"Home",name:"type",onChange:N}),"Home",Object(O.jsx)("input",{type:"radio",checked:"Office"===h,value:"Office",name:"type",onChange:N}),"Office",Object(O.jsx)("br",{}),Object(O.jsx)("span",{className:"invalid-feedback",children:d.type}),Object(O.jsx)("br",{}),Object(O.jsxs)("button",{onClick:function(){(function(e){var t,a,c,s,r,n,i,l;if(""===e.name&&(t="please fill this field"),""===e.type&&(a="please fill this field"),/^[6789]\d{9}$/.test(e.number)||(c="Invalid number"),""===e.address&&(s="please fill this field"),""===e.locality&&(r="please fill this field"),""===e.city&&(n="please fill this field"),""===e.state&&(i="please fill this field"),""===e.pincode&&(l="please fill this field"),j({name:t,type:a,number:c,address:s,locality:r,city:n,state:i,pincode:l}),!t&&!a&&!c&&!s&&!r&&!n&&!i&&!l)return!0})(r)&&(t(r,e.loader),e.edit(!1))},className:"primary-btn",children:[Object(O.jsx)("i",{className:"fa fa-edit"})," Edit Address"]}),Object(O.jsx)("button",{onClick:function(){return e.edit(!1)},className:"secondary-btn",children:"Cancel"})]})},ce=function(e){var t,a,s=e._id,r=e.name,n=e.type,o=e.number,d=e.pincode,j=e.city,u=e.state,h=e.address,m=e.locality,p=Object(c.useState)(!1),f=Object(l.a)(p,2),x=f[0],v=f[1],y=te(),N=y.setSelectedAddress,g=y.removeAddress,w=y.selectedAddress,k=_().cart,C=Object(i.h)(),A=null===(t=Object(i.g)())||void 0===t||null===(a=t.state)||void 0===a?void 0:a.from,T=Object(c.useState)(!1),D=Object(l.a)(T,2),I=D[0],E=D[1];return Object(O.jsxs)("div",{className:"addresses_container",children:[Object(O.jsx)(S,{show:I}),x?Object(O.jsx)(ae,Object(b.a)(Object(b.a)({},e),{},{edit:v,loader:E})):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("input",{id:s,name:"address",checked:w&&w._id===s,type:"radio",onChange:function(e){N(e.target.id,E)}}),Object(O.jsxs)("div",{className:"addresses",children:[Object(O.jsx)("span",{className:"address_type",children:n}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("span",{className:"name",children:[" ",r]}),Object(O.jsxs)("span",{className:"number",children:[" \xa0",o," "]}),Object(O.jsx)("div",{className:"removeIcon",children:Object(O.jsx)("button",{title:"remove",onClick:function(){return g(s,E)},children:Object(O.jsx)("i",{style:{color:"rgb(223, 71, 89)"},className:"fa fa-trash","aria-hidden":"true"})})}),Object(O.jsxs)("button",{onClick:function(){return v(!x)},className:"secondary-btn",children:[Object(O.jsx)("i",{className:"fa fa-edit"})," EDIT"]})]}),Object(O.jsxs)("p",{children:[h," , ",m," , ",j," , ",u," ,",Object(O.jsxs)("strong",{children:[" ",d]})]}),"cart"===A&&s===w._id&&Object(O.jsx)("button",{style:{width:"fit-content"},className:"secondary-btn",onClick:function(){return k.length>0?C("/ordersummary",{state:{from:"address"}}):C("/cart")},children:"Deliver to this address"})]})]})]})},se=function(){var e,t;Object(c.useEffect)((function(){window.scroll({behavior:"smooth",top:0})}));var a=te().address,s=Object(i.h)(),r=null===(e=Object(i.g)())||void 0===e||null===(t=e.state)||void 0===t?void 0:t.from;return console.log({address:a}),Object(O.jsxs)("div",{className:"address_container",children:[Object(O.jsx)("h3",{children:"Choose Address Checkout"}),null===a||void 0===a?void 0:a.map((function(e){return Object(O.jsx)(ce,Object(b.a)({},e),e._id)})),Object(O.jsx)("br",{}),Object(O.jsx)("button",{className:"primary-btn",onClick:function(){return s("/newaddress",{state:{from:r}})},children:"Add a new Address"})]})},re=function(){var e,t,a=te().addAddress,s=Object(i.h)(),r=Object(c.useState)(!1),n=Object(l.a)(r,2),o=n[0],d=n[1],j=null===(e=Object(i.g)())||void 0===e||null===(t=e.state)||void 0===t?void 0:t.from,u=Object(c.useState)({name:"",type:"",number:"",address:"",locality:"",city:"",state:"",pincode:""}),h=Object(l.a)(u,2),m=h[0],p=h[1],f=Object(c.useState)({name:"",type:"",number:"",address:"",locality:"",city:"",state:"",pincode:""}),x=Object(l.a)(f,2),v=x[0],y=x[1],N=m.name,_=m.number,g=m.address,w=m.locality,k=m.city,C=m.state,A=m.pincode,T=function(e){var t=e.target,a=t.value,c=t.name;p(Object(b.a)(Object(b.a)({},m),{},Object(P.a)({},c,a)))};return Object(O.jsxs)("div",{className:"newAddress",children:[Object(O.jsx)(S,{show:o}),Object(O.jsx)("h2",{children:"Add a new address"}),Object(O.jsxs)("form",{children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"name",children:"Name :"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"text",name:"name",className:"form-control",placeholder:"Enter your name..",value:N,onChange:T}),Object(O.jsx)("span",{className:"invalid-feedback",children:v.name})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"number",children:"Mobile Number :"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"number",name:"number",className:"form-control",placeholder:"mobile number..",value:_,onChange:T}),Object(O.jsx)("span",{className:"invalid-feedback",children:v.number})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"pincode",children:"Pincode :"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"number",name:"pincode",className:"form-control",placeholder:"pincode..",value:A,onChange:T}),Object(O.jsx)("span",{className:"invalid-feedback",children:v.pincode})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"locality",children:"Locality :"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"text",name:"locality",className:"form-control",placeholder:"locality..",value:w,onChange:T}),Object(O.jsx)("span",{className:"invalid-feedback",children:v.locality})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"address",children:"Address :"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("textarea",{name:"address",className:"form-control",placeholder:"Enter address",value:g,onChange:T}),Object(O.jsx)("span",{className:"invalid-feedback",children:v.address})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"city",children:"City :"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"text",name:"city",className:"form-control",placeholder:"City/District/Town",value:k,onChange:T}),Object(O.jsx)("span",{className:"invalid-feedback",children:v.city})]})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"state",children:"State :"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("input",{type:"text",name:"state",className:"form-control",placeholder:"State...",value:C,onChange:T}),Object(O.jsx)("span",{className:"invalid-feedback",children:v.state})]})]}),Object(O.jsx)("label",{htmlFor:"type",children:Object(O.jsx)("strong",{children:"Address type :"})}),Object(O.jsx)("input",{type:"radio",value:"Home",name:"type",onChange:T}),"Home",Object(O.jsx)("input",{type:"radio",value:"Office",name:"type",onChange:T}),"Office \xa0 ",Object(O.jsx)("span",{className:"invalid-feedback",children:v.type}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{onClick:function(e){e.preventDefault(),function(e){var t,a,c,s,r,n,i,l;if(""===e.name&&(t="please fill this field"),""===e.type&&(a="please fill this field"),/^[6789]\d{9}$/.test(e.number)||(c="Invalid mobile number"),""===e.address&&(s="please fill this field"),""===e.locality&&(r="please fill this field"),""===e.city&&(n="please fill this field"),""===e.state&&(i="please fill this field"),""===e.pincode&&(l="please fill this field"),y({name:t,type:a,number:c,address:s,locality:r,city:n,state:i,pincode:l}),!t&&!a&&!c&&!s&&!r&&!n&&!i&&!l)return!0}(m)&&a(m,d,j)},className:"primary-btn",children:"Save Address"}),Object(O.jsx)("button",{onClick:function(){return s("/address",{state:{from:j}})},className:"secondary-btn",children:"Cancel"})]})]})};function ne(){var e,t,a=te().selectedAddress,s=Object(i.h)(),r=x().uid,n=null===(e=Object(i.g)())||void 0===e||null===(t=e.state)||void 0===t?void 0:t.from,o=a.name,d=a.address,b=a.state,h=a.city,p=a.locality,f=a.pincode,y=_(),N=y.cart,g=y.totalCartValue,w=y.emptyCart,k=Object(c.useState)(!1),C=Object(l.a)(k,2),A=C[0],T=C[1],D=Object(c.useState)(""),I=Object(l.a)(D,2),E=I[0],P=I[1],R=Object(c.useState)(!1),U=Object(l.a)(R,2),L=U[0],H=U[1];Object(c.useEffect)((function(){window.scroll({behavior:"smooth",top:0}),"address"!==n&&s("*")}),[n,s]);var W=function(){var e=Object(u.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),t={uid:r,products:N.map((function(e){return{product:e.product._id,name:e.product.name,quantity:e.quantity,price:e.product.price}})),address:a},e.prev=2,e.next=5,m.a.post("".concat(v,"/api/orders"),t);case 5:P(!1),T(!0),setTimeout((function(){s("/"),w(H)}),3e3),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),P(!1),H(!0),setTimeout((function(){H("")}),3e3);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"order_summary_container",children:[Object(O.jsx)(F,{show:A,onClick:function(){return T(!1)},message:"Order Placed successfully",background:"var(--secondary)",color:"var(--primary)"}),Object(O.jsx)(F,{show:L,onClick:function(){return H(!1)},message:"Something went wrong with server",error:!0,background:"var(--danger-color)",color:"var(--tertiary)"}),Object(O.jsx)(S,{show:E}),Object(O.jsx)("h2",{className:"order_summary_container_header",children:"Order Summary"}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Delivered to:"}),"\xa0",Object(O.jsxs)("small",{children:[" ",o,", ",d," ,",null===h||void 0===h?void 0:h.toUpperCase()," , ",null===b||void 0===b?void 0:b.toUpperCase()," , ",p," , ",f," , India"]})]}),Object(O.jsx)("ul",{children:N.map((function(e){return Object(O.jsxs)("li",{children:[Object(O.jsx)("h5",{children:e.product.name}),Object(O.jsxs)("div",{className:"order_summary",children:[Object(O.jsx)("img",{alt:"",width:"150",height:"100",src:e.product.image+"?random=".concat(Math.round(1e3*Math.random()))}),Object(O.jsxs)("div",{className:"order_summary_content",children:[Object(O.jsxs)("small",{children:["Price : \u20b9",e.product.price]}),Object(O.jsxs)("small",{children:["Quantity : ",e.quantity]}),Object(O.jsx)("small",{children:Object(O.jsxs)("strong",{children:["Total price : \u20b9",e.quantity*e.product.price]})})]})]})]},e.product._id)}))}),Object(O.jsxs)("div",{className:"final_checkout",children:[Object(O.jsxs)("h5",{className:"totalCartValue",children:["Total Cart Value : \u20b9",g]}),Object(O.jsx)("button",{className:"primary-btn",onClick:W,children:"Place order"})]}),Object(O.jsx)("br",{})]})]})}function ie(e){var t,a,c=e.order,s=new Date(null===c||void 0===c?void 0:c.createdAt).toLocaleString(void 0,{timeZone:"Asia/Kolkata"}),r=c.address;return Object(O.jsxs)("div",{className:"orderDetails",children:[Object(O.jsxs)("div",{className:"orderDetails__header",children:[Object(O.jsxs)("div",{children:[Object(O.jsxs)("small",{children:[Object(O.jsx)("strong",{children:"ORDER PLACED"}),": ",s]}),Object(O.jsx)("br",{})]}),Object(O.jsx)("div",{children:Object(O.jsxs)("small",{children:[Object(O.jsx)("strong",{children:"ORDER ID"})," : #",null===c||void 0===c?void 0:c._id]})})]}),Object(O.jsxs)("div",{className:"orderDetails__content",children:[c.products.map((function(e){var t,a;return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:"orderDetails__product",children:[Object(O.jsx)(o.b,{to:"/products/".concat(null===e||void 0===e||null===(t=e.product)||void 0===t?void 0:t._id),children:Object(O.jsx)("img",{alt:"product",width:"150",height:"100",src:(null===e||void 0===e||null===(a=e.product)||void 0===a?void 0:a.image)+"?random=".concat(Math.round(1e3*Math.random()))})}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("small",{children:[Object(O.jsx)("strong",{children:"Product Name"})," : ",e.name]}),Object(O.jsx)("br",{}),Object(O.jsxs)("small",{children:[Object(O.jsx)("strong",{children:"Quantity"})," : ",e.quantity]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("small",{children:[Object(O.jsx)("strong",{children:"Price"})," : \u20b9 ",e.price]})]})]})},e._id)})),Object(O.jsxs)("small",{children:[Object(O.jsx)("strong",{children:"Total Price"})," : \u20b9",null===c||void 0===c?void 0:c.products.reduce((function(e,t){return e+t.price*t.quantity}),0)]}),Object(O.jsx)("br",{}),Object(O.jsxs)("small",{children:[Object(O.jsx)("strong",{children:"ADDRESS"})," : ",null===r||void 0===r?void 0:r.name,", ",null===r||void 0===r?void 0:r.address," ,",null===r||void 0===r||null===(t=r.city)||void 0===t?void 0:t.toUpperCase()," , ",null===r||void 0===r||null===(a=r.state)||void 0===a?void 0:a.toUpperCase()," , ",null===r||void 0===r?void 0:r.locality," , ",null===r||void 0===r?void 0:r.pincode," , India"]})]})]})}function le(){var e=x().uid,t=Object(c.useState)([]),a=Object(l.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)(!1),i=Object(l.a)(n,2),o=i[0],d=i[1];return Object(c.useEffect)((function(){Object(u.a)(j.a.mark((function t(){var a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,m.a.get("".concat(v,"/api/orders/").concat(e));case 4:c=t.sent,r(null===(a=c.data)||void 0===a?void 0:a.orders),d(!1),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),r(null),d(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))()}),[e]),Object(O.jsxs)("div",{className:"yourorders__container",children:[Object(O.jsx)("h1",{className:"yourorders__container__heading",children:"My Orders"}),Object(O.jsx)(V,{show:o}),s?s.map((function(e){return Object(O.jsx)(ie,{order:e},e._id)})).reverse():Object(O.jsx)("p",{children:"No orders found"})]})}var oe=function(){var e=x(),t=e.name,a=e.email;return Object(c.useEffect)((function(){window.scroll({behavior:"smooth",top:0})}),[]),Object(O.jsxs)("div",{className:"account__container",children:[Object(O.jsx)("div",{className:"account__avatar",children:Object(O.jsx)("img",{src:"https://th.bing.com/th/id/OIP.AW_0CHhYeO98vZhNOYsfwwHaHa?w=185&h=185&c=7&o=5&dpr=1.25&pid=1.7",alt:"Avatar",className:"avatar"})}),Object(O.jsx)("div",{children:Object(O.jsx)("h2",{children:"Account Information"})}),Object(O.jsxs)("div",{className:"account__content",children:[Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name: "}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control",type:"text",name:"name",value:t,disabled:!0})})]}),Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email: "}),Object(O.jsx)("div",{children:Object(O.jsx)("input",{className:"form-control",type:"email",name:"email",value:a,disabled:!0})})]})]})]})},de=(a(53),function(){var e=Object(i.i)().productId,t=Object(c.useState)({}),a=Object(l.a)(t,2),s=a[0],r=a[1],n=Object(c.useState)(!1),o=Object(l.a)(n,2),d=o[0],b=o[1],h=Object(c.useState)(!1),p=Object(l.a)(h,2),f=p[0],x=p[1],v=k(),y=v.wishlist,N=v.handleWishlist,g=_(),w=g.cart,C=g.addToCart,S=Object(c.useState)(!1),A=Object(l.a)(S,2),T=A[0],D=A[1];return Object(c.useEffect)((function(){Object(u.a)(j.a.mark((function t(){var a,c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.a.get("https://astraShop.reetrs.repl.co/api/products/".concat(e));case 3:a=t.sent,c=a.data,r(c.product),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),D(!0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}),[e]),Object(O.jsxs)("div",{className:"individual__product__container",children:[Object(O.jsx)(F,{show:T,onClick:function(){return D(!1)},message:"Something went wrong with server",error:!0,background:"red",color:"white"}),Object(O.jsxs)("div",{className:"individual__product__card",children:[Object(O.jsx)("img",{alt:"product",className:"individual__product__card__image",src:null===s||void 0===s?void 0:s.image}),Object(O.jsxs)("div",{className:"individual__product__card__content",children:[Object(O.jsx)("h2",{children:null===s||void 0===s?void 0:s.name}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("h3",{className:"price",children:["Rs. ",null===s||void 0===s?void 0:s.price]}),Object(O.jsx)("small",{className:"taxes",children:"Inclusive of all taxes"})]}),(null===s||void 0===s?void 0:s.fastDelivery)&&Object(O.jsxs)("small",{className:"card-content-details",children:[Object(O.jsx)("i",{className:"fas fa-shipping-fast"})," Fast Delivery"]}),Object(O.jsx)("p",{className:"description",children:null===s||void 0===s?void 0:s.description}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("button",{onClick:function(){return C(s,b,D)},className:"primary-btn",disabled:!(null===s||void 0===s?void 0:s.stock)||d,children:[!d&&(s.stock?w.find((function(e){return(null===e||void 0===e?void 0:e.product._id)===(null===s||void 0===s?void 0:s._id)}))?"GO TO CART":"ADD TO CART":"OUT OF STOCK"),Object(O.jsx)(V,{show:d})]})," ",Object(O.jsxs)("button",{onClick:function(){return N(s,x,D)},className:"secondary-btn",disabled:!(null===s||void 0===s?void 0:s.stock)||d,children:[!f&&(y.find((function(e){return(null===e||void 0===e?void 0:e._id)===(null===s||void 0===s?void 0:s._id)}))?"REMOVE FROM WISHLIST":"ADD TO WISHLIST"),Object(O.jsx)(V,{show:f})]})]})]})]})]})}),je=function(){var e=Object(i.h)();return Object(O.jsxs)("div",{className:"route__not__found",children:[Object(O.jsx)("h1",{children:"404 Route Not Found!!"}),Object(O.jsx)("button",{className:"go__to__home__btn",onClick:function(){return e("/")},children:"GO TO HOMEPAGE"})]})};function ue(){var e=x().isUserloggedIn;return Object(O.jsxs)("div",{className:"landing_page_container",children:[Object(O.jsx)("span",{className:"sidebar__link home_link",children:"Shop The World Technical Apparatus from Ad Astra - Your Local Space Shop"}),Object(O.jsxs)("span",{className:"home_btn_container",children:[Object(O.jsx)(o.b,{to:"/products",className:"sidebar__link",children:Object(O.jsx)("span",{className:"home_link",children:" Shop Now"})}),e?Object(O.jsx)(o.b,{to:"/cart",className:"sidebar__link",children:Object(O.jsx)("span",{className:"home_link",children:"My Cart"})}):Object(O.jsx)(o.b,{to:"/login",className:"sidebar__link",children:Object(O.jsx)("span",{className:"home_link",children:"Login Now"})})]})]})}a(54);var be=function(){var e=x().isUserloggedIn;return Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)(T,{}),Object(O.jsxs)(i.d,{children:[!e&&Object(O.jsx)(i.b,{path:"/login",element:Object(O.jsx)(R,{})}),!e&&Object(O.jsx)(i.b,{path:"/signup",element:Object(O.jsx)(U,{})}),Object(O.jsx)(i.b,{path:"/",element:Object(O.jsx)(ue,{})}),Object(O.jsx)(i.b,{path:"/products",element:Object(O.jsx)(K,{})}),Object(O.jsx)(i.b,{path:"/products/:productId",element:Object(O.jsx)(de,{})}),Object(O.jsx)(E,{path:"/wishlist",element:Object(O.jsx)(J,{})}),Object(O.jsx)(E,{path:"/cart",element:Object(O.jsx)(G,{})}),Object(O.jsx)(E,{path:"/address",element:Object(O.jsx)(se,{})}),Object(O.jsx)(E,{path:"/editaddress",element:Object(O.jsx)(ae,{})}),Object(O.jsx)(E,{path:"/newaddress",element:Object(O.jsx)(re,{})}),Object(O.jsx)(E,{path:"/myaccount",element:Object(O.jsx)(oe,{})}),Object(O.jsx)(E,{path:"/ordersummary",element:Object(O.jsx)(ne,{})}),Object(O.jsx)(E,{path:"/orders",element:Object(O.jsx)(le,{})}),Object(O.jsx)(i.b,{path:"*",element:Object(O.jsx)(je,{})})]})]})};n.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(o.a,{children:Object(O.jsx)(f,{children:Object(O.jsx)(ee,{children:Object(O.jsx)(B,{children:Object(O.jsx)(w,{children:Object(O.jsx)(N,{children:Object(O.jsx)(be,{})})})})})})})}),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.e2d9e83b.chunk.js.map